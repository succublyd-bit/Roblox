!function(){var n={945:function(e){e.exports="https://images.rbxcdn.com/857bde3fc0a3d53af7a1967f8f9d74c2-install-app-qr-code.webp"}},a={};function Ta(e){var t=a[e];if(void 0!==t)return t.exports;t=a[e]={exports:{}};return n[e](t,t.exports,Ta),t.exports}Ta.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return Ta.d(t,{a:t}),t},Ta.d=function(e,t){for(var n in t)Ta.o(t,n)&&!Ta.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},Ta.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=jQuery,l=Ta.n(e),B=Roblox,a=Ta.n(B);function n(e){var t=new(l().Deferred);return B.Hybrid.Game.launchGame(e,function(){t.resolve(e)}),t}var t,o,r={isJoinAttemptIdEnabled:!1,joinMultiplayerGame:function(e){var t=!0===e.isPlayTogetherGame,t={requestType:B.Hybrid.Game.LAUNCH_MODES.SIMPLE_GAME,placeId:e.placeId.toString(),isPlayTogetherGame:t,browserTrackerId:B.Cookies.getBrowserTrackerId()};return e.joinAttemptId&&(t.joinAttemptId=e.joinAttemptId),e.joinAttemptOrigin&&(t.joinAttemptOrigin=e.joinAttemptOrigin),n(t)},followPlayerIntoGame:function(e){var t={requestType:B.Hybrid.Game.LAUNCH_MODES.FOLLOW_USER,userId:e.userId.toString(),browserTrackerId:B.Cookies.getBrowserTrackerId()};return e.joinAttemptId&&(t.joinAttemptId=e.joinAttemptId),e.joinAttemptOrigin&&(t.joinAttemptOrigin=e.joinAttemptOrigin),n(t)},joinGameInstance:function(e){var t=!0===e.isPlayTogetherGame,t={requestType:B.Hybrid.Game.LAUNCH_MODES.GAME_INSTANCE,placeId:e.placeId.toString(),instanceId:e.gameId,isPlayTogetherGame:t,browserTrackerId:B.Cookies.getBrowserTrackerId()};return e.joinAttemptId&&(t.joinAttemptId=e.joinAttemptId),e.joinAttemptOrigin&&(t.joinAttemptOrigin=e.joinAttemptOrigin),n(t)},joinPrivateGame:function(e){var t={requestType:B.Hybrid.Game.LAUNCH_MODES.PRIVATE_SERVER,placeId:e.placeId.toString(),accessCode:e.accessCode,browserTrackerId:B.Cookies.getBrowserTrackerId()};return e.joinAttemptId&&(t.joinAttemptId=e.joinAttemptId),e.joinAttemptOrigin&&(t.joinAttemptOrigin=e.joinAttemptOrigin),n(t)},playTogetherGame:function(e){var t={requestType:B.Hybrid.Game.LAUNCH_MODES.SIMPLE_GAME,placeId:e.placeId.toString(),conversationId:e.conversationId.toString(),browserTrackerId:B.Cookies.getBrowserTrackerId()};return e.joinAttemptId&&(t.joinAttemptId=e.joinAttemptId),e.joinAttemptOrigin&&(t.joinAttemptOrigin=e.joinAttemptOrigin),n(t)}},i={modalClassName:"soli-modal",loginUrl:"/login?returnurl=",signupUrl:"/?returnurl=",eventContext:"gameDetails",loginField:"gameLaunch_login",signupField:"gameLaunch_signup"};l()(document).ready(function(){t=new B.TranslationResourceProvider,o=t.getTranslationResource("Feature.GameLaunchGuestMode")});var c={restrictGuests:function(e){var t=new(l().Deferred);return"True"===l()("#PlaceLauncherStatusPanel").data("is-user-logged-in")?t.resolve(e):B.Dialog.open({titleText:o.get("Heading.Dialog.SignUpOrLogin"),bodyContent:o.get("Description.Dialog.SignUpOrLogin"),cssClass:i.modalClassName,acceptColor:B.Dialog.green,acceptText:o.get("Action.Dialog.SignUp"),declineText:o.get("Action.Dialog.Login"),onDecline:function(){B.FormEvents&&B.FormEvents.SendInteractionClick(i.eventContext,i.loginField);var e=i.loginUrl+encodeURIComponent(window.location.origin+window.location.pathname+window.location.search);window.location.href=B.Endpoints?B.Endpoints.getAbsoluteUrl(e):e},onAccept:function(){var e;e=i.signupField,B.FormEvents&&B.FormEvents.SendInteractionClick("gameDetails",e),e=i.signupUrl+encodeURIComponent(window.location.origin+window.location.pathname+window.location.search),window.location.href=B.Endpoints?B.Endpoints.getAbsoluteUrl(e):e}}),t}},m=CoreUtilities,s={bars:[],init:function(e,t,n,a){var o=this.get(e);null==o&&(o={}),o.barID=e,o.innerBarID=t,o.percentageID=n,void 0===a&&(o.percentComplete=0),this.bars.push(o),this.update(e,o.percentComplete)},get:function(e){for(var t=0;t<this.bars.length;t+=1)if(this.bars[t].barID===e)return this.bars[t];return null},dispose:function(e){for(var t=0;t<this.bars.length;t+=1)this.bars[t].barID===e&&this.bars.splice(t,1)},update:function(e,t){var n=this.get(e);n&&(1<t&&(t=1),e=l()("#".concat(e)).width(),e=Math.round(e*t),l()("#".concat(n.innerBarID)).animate({width:e},200,"swing"),n.percentageID&&0<l()("#".concat(n.percentageID)).length&&l()("#".concat(n.percentageID)).html("".concat(Math.round(100*t),"%")),n.percentComplete=t)}},u={newValue:"",showVideoPreRoll:!1,videoInitialized:!1,videoStarted:!1,videoCompleted:!1,videoSkipped:!1,videoCancelled:!1,videoErrored:!1,loadingBarMaxTime:3e4,loadingBarCurrentTime:0,loadingBarIntervalID:0,loadingBarID:"videoPrerollLoadingBar",loadingBarInnerID:"videoPrerollLoadingBarCompleted",loadingBarPercentageID:"videoPrerollLoadingPercent",videoDiv:"videoPrerollMainDiv",companionAdDiv:"videoPrerollCompanionAd",contentElement:"contentElement",videoLoadingTimeout:7e3,videoPlayingTimeout:23e3,videoLogNote:"",logsEnabled:!1,includedPlaceIds:"",isSwfPreloaderEnabled:!1,isFlashInstalled:!1,isPrerollShownEveryXMinutesEnabled:!1,isAgeTargetingEnabled:!0,isAgeOrSegmentTargetingEnabled:!1,adUnit:"",adTime:0,placeId:0,customTargeting:{userAge:"",userAgeOrSegment:"",userGender:"",gameGenres:"",environment:"",adTime:"",PLVU:!1},adsManager:null,adsLoader:null,adDisplayContainer:null,intervalTimer:null,videoContent:null,isCompanionAdRenderedByGoogleTag:!1};function d(){u.adsLoader.contentComplete()}function p(){u.videoContent=document.getElementById(u.contentElement)}function v(){u.adDisplayContainer=new window.google.ima.AdDisplayContainer(document.getElementById(u.videoDiv),u.videoContent)}function f(){var e="&iu=".concat(u.adUnit),t="";u.isAgeTargetingEnabled&&(t+="&Age=".concat(u.customTargeting.userAge)),u.isAgeOrSegmentTargetingEnabled&&(t+="&A=".concat(u.customTargeting.userAgeOrSegment));t=encodeURIComponent("Env=".concat(u.customTargeting.environment,"&Gender=").concat(u.customTargeting.userGender).concat(t,"&Genres=").concat(u.customTargeting.gameGenres,"&PlaceID=").concat(u.placeId,"&Time=").concat(u.customTargeting.adTime,"&PLVU=").concat(u.customTargeting.PLVU));return"".concat("http://pubads.g.doubleclick.net/gampad/ads?impl=s&gdfp_req=1&env=vp&output=xml_vast2&unviewed_position_start=1&url=[referrer_url]&description_url=[description_url]&correlator=[timestamp]").concat("&sz=400x300").concat(e).concat("&ciu_szs=300x250","&cust_params=").concat(t,"&")}function h(){window.googletag.defineSlot(u.adUnit,[300,250],u.companionAdDiv).addService(window.googletag.companionAds()),window.googletag.enableServices(),window.googletag.display(u.companionAdDiv)}function g(e){switch(e.type){case window.google.ima.AdEvent.Type.LOADED:break;case window.google.ima.AdEvent.Type.STARTED:if(u.videoStarted=!0,u.isCompanionAdRenderedBywindow.googletag){if(!window.googletag)break;window.googletag.cmd.push(h)}else{var t=e.getAd().getCompanionAds(300,250);0<t.length&&(t=t[0].getContent(),document.getElementById(u.companionAdDiv).innerHTML=t)}break;case window.google.ima.AdEvent.Type.SKIPPED:u.videoCompleted=!0,u.videoSkipped=!0,u.showVideoPreRoll=!1;break;case window.google.ima.AdEvent.Type.COMPLETE:u.videoStarted&&!1===u.videoCancelled&&(u.videoCompleted=!0,u.showVideoPreRoll=!1,""!==u.newValue&&l().cookie("RBXVPR",u.newValue,180))}}function y(){u.videoErrored=!0,u.videoCompleted=!0,u.videoLogNote="AdError"}function b(e){u.adsManager=e.getAdsManager(u.videoContent),u.adsManager.addEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,y),u.adsManager.addEventListener(window.google.ima.AdEvent.Type.ALL_ADS_COMPLETED,g),u.adsManager.addEventListener(window.google.ima.AdEvent.Type.LOADED,g),u.adsManager.addEventListener(window.google.ima.AdEvent.Type.STARTED,g),u.adsManager.addEventListener(window.google.ima.AdEvent.Type.SKIPPED,g),u.adsManager.addEventListener(window.google.ima.AdEvent.Type.COMPLETE,g);try{u.adsManager.init(400,300,window.google.ima.ViewMode.NORMAL),u.adsManager.start()}catch(e){y()}}function w(){window.google.ima.settings.setVpaidAllowed(!0),p(),v(),u.adDisplayContainer.initialize(),u.adsLoader=new window.google.ima.AdsLoader(u.adDisplayContainer),u.adsLoader.addEventListener(window.google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,b,!1),u.adsLoader.addEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,y,!1),u.videoContent.addEventListener("ended",d);var e=new window.google.ima.AdsRequest,t=f();e.adTagUrl=t,e.linearAdSlotWidth=400,e.linearAdSlotHeight=300,e.nonLinearAdSlotWidth=400,e.nonLinearAdSlotHeight=300,u.adsLoader.requestAds(e)}function P(){var t=!1;try{new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(t=!0)}catch(e){navigator.mimeTypes&&void 0!==navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(t=!0)}return t}function E(){if(u.logsEnabled){var e="";if(u.videoCompleted)e="Complete",""===u.videoLogNote&&(u.videoLogNote="NoTimeout"),u.logsEnabled=!1;else if(u.videoCancelled)e="Cancelled",u.videoLogNote=window.RobloxLaunch.state;else{if(!1!==u.videoInitialized||""===u.videoLogNote)return;e="Failed",u.logsEnabled=!1}B.GaEventSettings.gaDFPPreRollEnabled&&window.GoogleAnalyticsEvents&&window.GoogleAnalyticsEvents.FireEvent(["DFPPreRoll",e,u.videoLogNote])}}function I(){return!!u.videoInitialized&&(u.videoInitialized&&!u.videoStarted&&u.loadingBarCurrentTime>u.videoLoadingTimeout&&(u.videoCompleted=!0,u.videoLogNote="LoadingTimeout"),u.videoStarted&&!u.videoCompleted&&u.loadingBarCurrentTime>u.videoPlayingTimeout&&(u.videoCompleted=!0,u.videoLogNote="PlayingTimeout"),!u.videoCompleted)}function C(){var e=encodeURIComponent(f()),e="adTagUrl=".concat(e);l().ajax({url:"/game/preloader",data:{url:e},method:"GET",crossDomain:!0,xhrFields:{withCredentials:!0}}).success(function(e){l()("#videoPrerollMainDiv").html(e),u.videoErrored||(u.videoStarted=!0)})}function S(){l().ajax({url:"/game/updateprerollcount",method:"GET",crossDomain:!0,xhrFields:{withCredentials:!0}})}Object.assign(u,{contentEndedListener:d,createVideoContent:p,createAdDisplayContainer:v,constructUrl:f,renderCompanionAd:h,onAdEvent:g,onAdError:y,onAdsManagerLoaded:b,requestAds:w,checkFlashEnabled:P,checkEligibility:function(){u.showVideoPreRoll&&(P()&&(u.isFlashInstalled=!0),"True"===l()("#PlaceLauncherStatusPanel").data("is-protocol-handler-launch-enabled")||B.Client.IsRobloxInstalled()?void 0===window.google||void 0===window.google.ima?(u.videoLogNote="NoGoogle",u.showVideoPreRoll=!1):B.Client.isIDE()?(u.videoLogNote="RobloxStudio",u.showVideoPreRoll=!1):B.Client.isRobloxBrowser()?(u.videoLogNote="RobloxPlayer",u.showVideoPreRoll=!1):(window.chrome||window.safari)&&"#chromeInstall"===window.location.hash&&(u.showVideoPreRoll=!1):u.showVideoPreRoll=!1)},logVideoPreRoll:E,isPlaying:I,correctIEModalPosition:function(e){var t,n;e.container.innerHeight()<=30&&(t=l()("#videoPrerollPanel"),n=-Math.floor(t.innerHeight()/2),t.css({position:"relative",top:"".concat(n,"px")}),e.container.find(".VprCloseButton").css({top:"".concat(n-10,"px"),"z-index":"1003"}))},renderImaPreloader:C,updatePrerollCount:S,start:function(){0===u.placeId&&"undefined"!=typeof play_placeId&&(u.placeId=play_placeId),u.videoInitialized=!0,u.videoStarted=!1,u.videoCancelled=!1,u.videoCompleted=!1,u.videoSkipped=!1,u.loadingBarCurrentTime=0,u.videoLogNote="",s.init(u.loadingBarID,u.loadingBarInnerID,u.loadingBarPercentageID),u.loadingBarIntervalID=setInterval(function(){u.loadingBarCurrentTime+=1e3,s.update(u.loadingBarID,u.loadingBarCurrentTime/u.loadingBarMaxTime)},1e3),(u.isSwfPreloaderEnabled&&u.isFlashInstalled?C:w)()},cancel:function(){u.videoCancelled=!0,l().modal.close()},skip:function(){u.videoCompleted=!0,u.videoSkipped=!0,u.showVideoPreRoll=!1},close:function(){window.MadStatus&&window.MadStatus.running&&window.MadStatus.stop(""),window.RobloxLaunch.launcher&&(window.RobloxLaunch.launcher._cancelled=!0),clearInterval(u.loadingBarIntervalID),s.dispose(u.loadingBarID),I()&&(u.videoCancelled=!0),l().modal.close(),E(),u.isPrerollShownEveryXMinutesEnabled&&u.videoInitialized&&u.videoCompleted&&S()}});var x=u,A={waitForPreroll:function(e){var t,n,a=new(l().Deferred),o=x;return o.placeId=void 0!==e.placeId?e.placeId:0,o.showVideoPreRoll?(t={escClose:!0,opacity:80,overlayCss:{backgroundColor:"#000"},zIndex:1031,onShow:function(e){o.correctIEModalPosition(e),o.start(),l()("#prerollClose").hide(),l()("#prerollClose").delay(1e3*o.adTime).show(300)},onClose:function(){o.close()},closeHTML:'<a href="#" id="prerollClose" class="ImageButton closeBtnCircle_35h ABCloseCircle VprCloseButton"></a>'},l()("#videoPrerollPanel").modal(t),n=setInterval(function(){o.isPlaying()||(l().modal.close(),clearInterval(n),o.videoCancelled?a.reject(e):a.resolve(e))},200)):(a.resolve(e),o.logVideoPreRoll()),a}};function T(e,t,n,a,o,r,i){try{var l=e[r](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(a,o)}function U(t,e){var n,a=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)),a}function L(a){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?U(Object(o),!0).forEach(function(e){var t,n;t=a,e=o[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):U(Object(o)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(o,e))})}return a}var k,O={gameLaunchInterface:null,gameLaunchLogger:null,initialized:new Promise(function(e,t){k=e})};function D(e,t,n){t=L(L({},e),{},{joinAttemptId:null!=t?t:m.uuidService.generateRandomUuid()});return n&&(t.joinAttemptOrigin=n),t}function R(e,t,n){var a,o,r=3<arguments.length&&void 0!==arguments[3]&&arguments[3],i=5<arguments.length&&void 0!==arguments[5]&&arguments[5];r&&(4<arguments.length&&void 0!==arguments[4]&&arguments[4])&&(a=e,o={url:"".concat(B.EnvironmentUrls.gameJoinApi,"/v1/team-create-preemptive"),withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json"}},a={gameJoinAttemptId:m.uuidService.generateRandomUuid(),placeId:a},m.httpService.post(o,a)),O.gameLaunchInterface.editGameInStudio(e,t,n,r&&i)}function N(e){var t=2<arguments.length?arguments[2]:void 0,n=3<arguments.length?arguments[3]:void 0,a=4<arguments.length?arguments[4]:void 0,o=5<arguments.length?arguments[5]:void 0,r=6<arguments.length?arguments[6]:void 0,r={placeId:e,launchData:null==o?void 0:o.launchData,eventId:null==o?void 0:o.eventId,isPlayTogetherGame:!0===t,referredByPlayerId:r};return O.gameLaunchInterface.isJoinAttemptIdEnabled&&(r=D(r,n,a)),c.restrictGuests(r).then(A.waitForPreroll).then(O.gameLaunchInterface.joinMultiplayerGame)}function G(){var l;return l=regeneratorRuntime.mark(function e(t,n,a,o,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.initialized;case 2:return i={placeId:t,accessCode:n,linkCode:a},O.gameLaunchInterface.isJoinAttemptIdEnabled&&(i=D(i,o,r)),i=A.waitForPreroll(i).then(O.gameLaunchInterface.joinPrivateGame),e.abrupt("return",i);case 6:case"end":return e.stop()}},e)}),(G=function(){var e=this,i=arguments;return new Promise(function(t,n){var a=l.apply(e,i);function o(e){T(a,t,n,o,r,"next",e)}function r(e){T(a,t,n,o,r,"throw",e)}o(void 0)})}).apply(this,arguments)}l().fn.bindGameLaunch=function(){return this.find(".VisitButtonPlayGLI").click(function(){var e=l()(this);N(e.attr("placeid"),e.data("is-membership-level-ok"))}),this.find(".VisitButtonEditGLI").click(function(){var e=l()(this);R(e.attr("placeid"),e.data("universeid"),!!e.data("allowupload"))}),this},l()(document).ready(function(){l()("body").bindGameLaunch()}),Object.assign(O,{authenticationChecker:c,prerollPlayer:A,joinMultiplayerGame:N,openStudio:function(){O.gameLaunchInterface.openStudio()},openPluginInStudio:function(e){O.gameLaunchInterface.openPluginInStudio(e)},editGameInStudio:R,followPlayerIntoGame:function(e,t,n){return e={userId:e},O.gameLaunchInterface.isJoinAttemptIdEnabled&&(e=D(e,t,n)),c.restrictGuests(e).then(A.waitForPreroll).then(O.gameLaunchInterface.followPlayerIntoGame)},joinGameInstance:function(e,t,n,a,o,r,i){return i={placeId:e,gameId:t,isPlayTogetherGame:!0===a,referredByPlayerId:i},O.gameLaunchInterface.isJoinAttemptIdEnabled&&(i=D(i,o,r)),c.restrictGuests(i).then(A.waitForPreroll).then(O.gameLaunchInterface.joinGameInstance)},joinPrivateGame:function(e,t,n,a,o){return G.apply(this,arguments)},playTogetherGame:function(e,t,n,a){return t={placeId:e,conversationId:t},O.gameLaunchInterface.isJoinAttemptIdEnabled&&(t=D(t,n,a)),c.restrictGuests(t).then(A.waitForPreroll).then(O.gameLaunchInterface.playTogetherGame)},setGameLaunchInterface:function(e){O.gameLaunchInterface=e,k()},setGameLaunchLogger:function(e){O.gameLaunchLogger=e},tryAssetInStudio:function(e){O.gameLaunchInterface.tryAssetInStudio(e)},isJoinAttemptIdEnabled:function(){var e;return null===(e=O.gameLaunchInterface)||void 0===e?void 0:e.isJoinAttemptIdEnabled},startClientAttemptedEvent:"startClientAttempted",startClientFailedEvent:"startClientFailed",startClientSucceededEvent:"startClientSucceeded",beginInstallEvent:"beginInstall",successfulInstallEvent:"successfulInstall",manualDownloadEvent:"manualDownload"});var M=O,j={lastContext:"unknown",contextCategories:{joinUser:"JoinUser"}};function F(e,t,n){var a,o=l()("#PlaceLauncherStatusPanel");return{lType:o&&o.data("is-protocol-handler-launch-enabled")&&"true"===o.data("is-protocol-handler-launch-enabled").toLowerCase()?"protocol":"plugin",pid:e,refuid:t,pg:(a=window.location.pathname.toLowerCase(),e="profile",-1!==(t=a.lastIndexOf(e))&&a.length===t+e.length?e:0===a.indexOf("/develop")?"develop":0===a.indexOf("/discover")?"games":"gameDetail"),joinAttemptId:"True"===(null!==(o=o.data("is-join-attempt-id-enabled"))&&void 0!==o?o:"False")?n:void 0}}function V(e,t,n,a,o){null!==t&&""!==t&&"unknown"!==t&&(j.lastContext=t),B.EventStream.SendEvent(e,j.lastContext,F(n,a,o))}Object.assign(j,{SendGamePlayIntent:function(e,t,n,a){V("gamePlayIntent",e,t,n,a),l()(document).trigger("playButton:gamePlayIntent")},SendDevelopIntent:function(e,t){V("developIntent",e,t)},SendInstallBegin:function(e,t){V("installBegin",e,t)},SendInstallSuccess:function(e,t){V("installSuccess",e,t)},SendClientStartAttempt:function(e,t){V("clientStartAttempt",e,t)},SendClientStartSuccessWeb:function(e,t){V("clientStartSuccessWeb",e,t)},SendManualDownloadClick:function(e,t){V("manualDownload",e,t)}});var _=j,H={logToConsoleEnabled:!1,logToGAEnabled:!0,logToEphemeralCountersEnabled:!0},W={};W[M.startClientAttemptedEvent]=["GameLaunchAttempt_<os>","GameLaunchAttempt_<os>_<launchmethod>"],W[M.startClientSucceededEvent]=["GameLaunchSuccessWeb_<os>","GameLaunchSuccessWeb_<os>_<launchmethod>"];var q={};B.GaEventSettings.gaLaunchAttemptAndLaunchSuccessEnabled&&(q[M.startClientAttemptedEvent]="Launch Attempt",q[M.startClientSucceededEvent]="Launch Success"),q[M.beginInstallEvent]="Install Begin",q[M.successfulInstallEvent]="Install Success",q[M.manualDownloadEvent]="Manual Download";var z={};function J(e){H.logToConsoleEnabled&&console.log(e)}function X(e,t){var n;H.logToEphemeralCountersEnabled&&("Windows"===(n=l()("#PlaceLauncherStatusPanel").data("os-name"))&&(n="Win32"),e=(e=e.replace("<os>",n)).replace("<launchmethod>",t),null!==(t=window.EventTracker)&&void 0!==t&&t.fireEvent&&window.EventTracker.fireEvent(e))}function Q(e,t,n,a){void 0!==window.GoogleAnalyticsEvents&&H.logToGAEnabled&&window.GoogleAnalyticsEvents.FireEvent&&window.GoogleAnalyticsEvents.FireEvent([e,t,n,a])}function Y(e,n){J("".concat(e.type,": ").concat(JSON.stringify(n))),W[e.type]&&l().each(W[e.type],function(e,t){X(t,n.launchMethod)}),q[e.type]&&Q(n.launchMethod,q[e.type],n.params.launchMode,0),"True"===l()("#PlaceLauncherStatusPanel").data("event-stream-for-protocol-enabled")&&z[e.type]&&z[e.type](null,n.params.placeId)}z[M.startClientAttemptedEvent]=_.SendClientStartAttempt,z[M.startClientSucceededEvent]=_.SendClientStartSuccessWeb,z[M.beginInstallEvent]=_.SendInstallBegin,z[M.successfulInstallEvent]=_.SendInstallSuccess,z[M.manualDownloadEvent]=_.SendManualDownloadClick,Object.assign(H,{logToConsole:J,logToEphemeralCounters:X,logToGA:Q}),l()(document).ready(function(){var e=[M.startClientAttemptedEvent,M.startClientFailedEvent,M.startClientSucceededEvent,M.beginInstallEvent,M.successfulInstallEvent,M.manualDownloadEvent];l()(M).on(e.join(" "),Y)});var K=H,Z=function(){var e="click";l()("body").on(e,".VisitButtonPlay, .VisitButtonPlayGLI",function(){var e,t,n=l()(this);(n.hasClass("VisitButtonPlay")||n.hasClass("VisitButtonPlayGLI"))&&(e="PlayButton"),e&&(t=l()(this).attr("placeid"),n=B.UrlParser?B.UrlParser.getParameterValueByName("rbxp"):null,_.SendGamePlayIntent(e,t,n))}),l()("body").on(e,".VisitButtonEdit, .VisitButtonEditGLI",function(){var e=l()(this).attr("placeid");_.SendDevelopIntent("Edit",e)}),l()("#rbx-running-games").on(e,".rbx-game-server-item .rbx-game-server-join",function(){var e=l()(this).data("placeid");e&&_.SendGamePlayIntent("JoinInstance",e)}),l()("#rbx-friends-running-games").on(e,".rbx-friends-game-server-item .rbx-friends-game-server-join",function(){var e=l()(this).data("placeid");e&&_.SendGamePlayIntent("JoinInstance",e)}),l()("#game-instances").on(e,"#rbx-vip-servers .rbx-vip-server-item .rbx-vip-server-join",function(){var e=l()(this).data("placeid");e&&_.SendGamePlayIntent("PrivateServer",e)}),l()("#build-page").on(e,".roblox-edit-button",function(){var e=l()(this).parents("table.item-table"),e=e.data("rootplace-id")||e.data("item-id");e&&_.SendDevelopIntent("Edit",e)})},$=React,ee=Ta.n($),te=ReactDOM,ne=Ta.n(te),ae=ReactUtilities,oe="token",re="deeplink",ie=["/games/{placeId}/{placeName}","/share-links?code={linkId}&type=ExperienceInvite"].map(function(e){return new RegExp(e.replace(/\{.*?\}/g,"([^/]+)"))}),le=["/share-links"],ce=["ExperienceAffiliate"],se=function(e){try{var t=new URL(e).searchParams.get("referralUrl");if(!t)return null;var n=new URL(decodeURIComponent(t));return(t=n,le.includes(t.pathname)&&ce.includes(null!==(t=t.searchParams.get("type"))&&void 0!==t?t:""))?n.href:null}catch(e){return null}},ue=function(e,t,n){var a={link_url:t,group:re,action:"create-token-attempt",status_code:n,token:null!=e?e:""};try{B.EventStream.SendEventWithTarget("tokenAction","EdpDownloadRobloxInstaller",a,B.EventStream.TargetTypes.WWW)}catch(e){}},de=function(e,i,l,c){return new(l=l||Promise)(function(n,t){function a(e){try{r(c.next(e))}catch(e){t(e)}}function o(e){try{r(c.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(a,o)}r((c=c.apply(e,i||[])).next())})},pe=function(n,a){var o,r,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,r&&(i=2&t[0]?r.return:t[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,t[1])).done)return i;switch(r=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,r=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=a.call(n,l)}catch(e){t=[6,e],r=0}finally{o=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},me=B.EnvironmentUrls.apiGatewayUrl+"/deferred-deep-link/token-api",ve=function(a){return de(void 0,void 0,Promise,function(){var t,n;return pe(this,function(e){switch(e.label){case 0:n={linkId:a,group:re},t={withCredentials:!0,url:me+"/create-token"},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,m.httpService.post(t,n)];case 2:return t=e.sent(),n=null!==(n=t.data.token)&&void 0!==n?n:null,ue(n,a,t.status),[2,n];case 3:return e.sent(),[2,null];case 4:return[2]}})})},fe=function(e,i,l,c){return new(l=l||Promise)(function(n,t){function a(e){try{r(c.next(e))}catch(e){t(e)}}function o(e){try{r(c.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(a,o)}r((c=c.apply(e,i||[])).next())})},he=function(n,a){var o,r,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,r&&(i=2&t[0]?r.return:t[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,t[1])).done)return i;switch(r=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,r=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=a.call(n,l)}catch(e){t=[6,e],r=0}finally{o=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};function ge(a){return fe(this,void 0,Promise,function(){var t,n;return he(this,function(e){switch(e.label){case 0:return t="",(n=function(e){var t=se(e);if(t)return t;var n=new URL(e);return n.search="",n.hash="",ie.some(function(e){return e.test(n.pathname)})?n.toString():null}(a))?[4,ve(n)]:[2,t];case 1:return(n=e.sent())&&(t="?"+oe+"="+n),[2,t]}})})}var ye=WebBlox,be="undefined"!=typeof window?window.navigator.userAgent:"",we=/Mac OS X/i.test(be),Pe=/Windows NT/i.test(be),Ee=(/Linux/i.test(be)&&/Android/i.test(be),/Android/i.test(be)),Ie=/iPhone|iPad|iPod/i.test(be);function Ce(e){var t=void 0===(o=e.alt)?"App Icon":o,n=void 0===(a=e.className)?"":a,a=void 0===(o=e.title)?"":o,e=void 0===(o=e.style)?{}:o,o=we?"mac":Pe?"windows":Ie?"ios":Ee?"android":"windows";return $.createElement("div",{className:"app-icon-bluebg app-icon-".concat(o," ").concat(n),role:"img","aria-label":t,title:a||t,style:e})}var Se=function(){return(Se=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function xe(e,t){var n={};for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n}function Ae(){return ee().createElement("div",{role:"presentation",className:"absolute inset-[0] transition-colors group-hover/interactable:bg-[var(--color-state-hover)] group-active/interactable:bg-[var(--color-state-press)] group-disabled/interactable:bg-none"})}var Te=function(){for(var e,t,n=0,a="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=function e(t){var n,a="";if("string"==typeof t||"number"==typeof t)a+=t;else if("object"==typeof t)if(Array.isArray(t))for(var o=t.length,r=0;r<o;r++)t[r]&&(n=e(t[r]))&&(a&&(a+=" "),a+=n);else for(n in t)t[n]&&(a&&(a+=" "),a+=n);return a}(e))&&(a&&(a+=" "),a+=t);return a};function Ue(e){var t=e.width,e=e.height;return ee().createElement("svg",{className:"foundation-web-loading-spinner",width:t,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ee().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"currentColor",d:"M10 2.75C8.56609 2.75 7.16438 3.1752 5.97212 3.97185C4.77986 4.76849 3.85061 5.90078 3.30188 7.22554C2.75314 8.55031 2.60957 10.008 2.88931 11.4144C3.16905 12.8208 3.85955 14.1126 4.87348 15.1265C5.88741 16.1405 7.17924 16.831 8.5856 17.1107C9.99196 17.3904 11.4497 17.2469 12.7745 16.6981C14.0992 16.1494 15.2315 15.2201 16.0282 14.0279C16.8248 12.8356 17.25 11.4339 17.25 10C17.25 9.58579 17.5858 9.25 18 9.25C18.4142 9.25 18.75 9.58579 18.75 10C18.75 11.7306 18.2368 13.4223 17.2754 14.8612C16.3139 16.3002 14.9473 17.4217 13.3485 18.0839C11.7496 18.7462 9.9903 18.9195 8.29296 18.5819C6.59563 18.2443 5.03653 17.4109 3.81282 16.1872C2.58911 14.9635 1.75575 13.4044 1.41813 11.707C1.08051 10.0097 1.25379 8.25037 1.91606 6.65152C2.57832 5.05267 3.69983 3.6861 5.13876 2.72464C6.57769 1.76318 8.26942 1.25 10 1.25C10.4142 1.25 10.75 1.58579 10.75 2C10.75 2.41421 10.4142 2.75 10 2.75Z"}))}function Le(e){var t=e.children,n=e.className,a=e.style,o=e.as,r=void 0!==(l=e.isDisabled)&&l,i=void 0!==(s=e.isLoading)&&s,l=void 0===(c=e.size)?"Large":c,c=void 0===(s=e.variant)?"Emphasis":s,s=xe(e,["children","className","style","as","isDisabled","isLoading","size","variant"]),e=null!=o?o:"button",o=s.href,s=xe(s,["href"]);return ee().createElement(e,Se({type:"button"===e?"button":void 0,disabled:r,"aria-disabled":r,href:r?void 0:o},s,{className:Te("foundation-web-button","relative clip group/interactable focus-visible:outline-focus disabled:outline-none",r?"opacity-[0.5]":"cursor-pointer","flex items-center justify-center stroke-none padding-y-none select-none",Oe[l],(r?Be:De)[c],n),style:Se({textDecoration:"none"},a)}),ee().createElement(Ae,null),i&&ee().createElement("div",{"aria-hidden":"true",className:"absolute flex"},ee().createElement(Ue,{width:ke[l],height:ke[l]})),ee().createElement("span",{className:Te("padding-y-xsmall text-truncate-end text-no-wrap",i&&"invisible")},t))}!function(e,t){void 0===t&&(t={});var n,a=t.insertAt;e&&"undefined"!=typeof document&&(n=document.head||document.getElementsByTagName("head")[0],(t=document.createElement("style")).type="text/css","top"===a&&n.firstChild?n.insertBefore(t,n.firstChild):n.appendChild(t),t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)))}("@keyframes rotation{0%{transform:rotate(0deg)}to{transform:rotate(359deg)}}.foundation-web-loading-spinner{animation:rotation 1s linear infinite normal}");var ke={Large:24,Medium:20,Small:16,XSmall:12},Oe={Large:["radius-medium","text-label-large","height-1200","padding-x-large"],Medium:["radius-medium","text-label-medium","height-1000","padding-x-medium"],Small:["radius-medium","text-label-small","height-800","padding-x-small"],XSmall:["radius-small","text-label-small","height-600","padding-x-small"]},De={Emphasis:["bg-action-emphasis","content-action-emphasis"],Standard:["bg-action-standard","content-action-standard"],SoftEmphasis:["bg-action-soft-emphasis","content-action-soft-emphasis"],ActionUtility:["bg-action-subtle","content-action-standard"],Alert:["bg-action-alert","content-action-alert"]},Be={Emphasis:["bg-action-standard","content-action-standard"],Standard:["bg-action-standard","content-action-standard"],SoftEmphasis:["bg-action-standard","content-action-standard"],ActionUtility:["bg-action-subtle","content-action-standard"],Alert:["bg-action-standard","content-action-standard"]},Re=HeaderScripts,e=Ta(945),Ne=Ta.n(e);function Ge(t,e){var n,a=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)),a}function Me(a){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Ge(Object(o),!0).forEach(function(e){var t,n;t=a,e=o[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):Ge(Object(o)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(o,e))})}return a}function je(e){return Me(Me({},e.typography.h5),{},{fontSize:"16px",paddingBottom:"8px"})}var Fe={width:"268px",paddingBottom:"24px",fontSize:"14px"},Ve={display:"block",width:"285px"},_e={listStyleType:"decimal",listStylePosition:"outside"},He={position:"absolute",left:"12px",top:"10px"},We=(0,ye.makeStyles)()(function(e){return{container:{display:"flex",width:"729px",padding:"54.5px 40px 40px 40px",flexDirection:"column",alignItems:"flex-start",backgroundColor:e.palette.surface[200],a:{textDecoration:"underline"}},paragraph:{alignSelf:"stretch",width:"589px",paddingBottom:"40px"},columnWrapper:{width:"649px",display:"flex",alignItems:"flex-start",gap:"56px",alignSelf:"stretch",flexDirection:"row"},column:{flex:1,width:"268px"},columnRight:{width:"268px",flex:1,display:"flex",flexDirection:"column"},borderRight:{borderRight:"1px solid #333",paddingRight:"24px",display:"flex",flexDirection:"column"},list:{listStyleType:"decimal",listStylePosition:"inside",paddingLeft:"20px",display:"inline-grid",gap:"20px",fontSize:"14px"},qrBox:{display:"flex",width:"268px",height:"190px",padding:"20px",justifyContent:"center",alignItems:"center",gap:"8px",alignSelf:"stretch",borderRadius:"8px",background:"rgba(208, 217, 251, 0.04)"},qrImage:{width:"100px",height:"100px",objectFit:"contain",border:"6px solid white",borderRadius:"12px"},message:{}}}),qe=(0,ye.makeStyles)()(function(e){return{root:{width:"350px",height:"284px",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",fontSize:"20px",fontWeight:600,padding:"54px 24px 24px",backgroundColor:e.palette.surface[200]},logoBox:{width:"72px"},logoImage:{width:"72px",height:"72px"},message:{lineHeight:"120%",letterSpacing:"-0.2px",padding:"24px"},button:{width:"302px",height:"40px",fontSize:"14px"}}}),ze=((0,ye.makeStyles)()(function(e){return{foreground:{padding:5,borderRadius:5,backgroundColor:e.palette.content.standard,color:e.palette.content.inverse}}}),"Action.Close"),Je="Label.RobloxExciteToDownload",Xe="Title.DownloadPage",Qe="Label.RobloxLoadingToPlay",Ye="Heading.DownloadConfirmation",Ke="Label.FollowInstallSteps",Ze="Label.RetryDownload",$e="Heading.InstallInstructions",et="Response.Dialog.MacFirstInstruction",tt="Response.Dialog.WindowsFirstInstruction",nt="Response.Dialog.SecondInstruction",at="Response.Dialog.ThirdInstruction",ot="Response.Dialog.FourthInstruction",rt="Heading.MobileAppDownloadOption",it="Label.MobileAppQrCode";function lt(t,e){var n,a=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)),a}function ct(a){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?lt(Object(o),!0).forEach(function(e){var t,n;t=a,e=o[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):lt(Object(o)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(o,e))})}return a}function st(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,o=!1,r=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){o=!0,r=e}finally{try{a||null==l.return||l.return()}finally{if(o)throw r}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ut(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ut(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function dt(e){return e=e.fill,ee().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 28 28",fill:"none"},ee().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.53033 5.46967C6.23744 5.17678 5.76256 5.17678 5.46967 5.46967C5.17678 5.76256 5.17678 6.23744 5.46967 6.53033L12.9393 14L5.46967 21.4697C5.17678 21.7626 5.17678 22.2374 5.46967 22.5303C5.76256 22.8232 6.23744 22.8232 6.53033 22.5303L14 15.0607L21.4697 22.5303C21.7626 22.8232 22.2374 22.8232 22.5303 22.5303C22.8232 22.2374 22.8232 21.7626 22.5303 21.4697L15.0607 14L22.5303 6.53033C22.8232 6.23744 22.8232 5.76256 22.5303 5.46967C22.2374 5.17678 21.7626 5.17678 21.4697 5.46967L14 12.9393L6.53033 5.46967Z",fill:e}))}function pt(e){var t=e.inputMessage,n=e.bottomButton,a=e.onClose,o=(s=qe().classes).root,r=s.logoBox,i=s.logoImage,l=s.message,c=s.button,e=(0,ye.useTheme)(),s=(0,ae.useTranslation)().translate;return ee().createElement("section",{className:o},ee().createElement(ye.IconButton,{"aria-label":s(ze),color:"inherit",onClick:a,size:"small",style:He},ee().createElement(dt,{fill:e.palette.content.standard})),ee().createElement(ye.Grid,{className:"flex flex-col items-center"},ee().createElement(ye.Grid,{className:r},ee().createElement(Ce,{className:i})),ee().createElement("p",{className:l,style:Me(Me({},(e=e).typography.h5),{},{fontSize:"20px",color:e.palette.content.standard})},t)),ee().createElement(ye.Grid,{className:"flex flex-col items-stretch ".concat(c)},n))}function mt(e){var t=e.isOpen,n=e.onClose,e=(0,ae.useTranslation)().translate;return ee().createElement(ye.Dialog,{open:t,onClose:n},ee().createElement(pt,{inputMessage:ee().createElement("span",{style:Ve},(t=(e=st((t=e(Qe)).split("."),2))[0],e=e[1],ee().createElement(ee().Fragment,null,t&&ee().createElement(ee().Fragment,null,[t,"."],ee().createElement("br",null)),e))),bottomButton:ee().createElement(Le,{variant:"Emphasis",size:"Medium",isLoading:!0}),onClose:n}))}function vt(e){var t=e.isOpen,n=e.onClose,a=e.callback,e=(0,ae.useTranslation)().translate;return ee().createElement(ye.Dialog,{open:t,onClose:n},ee().createElement(pt,{inputMessage:ee().createElement("span",{style:Ve},e(Je)),bottomButton:ee().createElement(Le,{variant:"Emphasis",size:"Medium",onClick:a},e(Xe)),onClose:n}))}function ft(e){var t=e.isOpen,n=e.onClose,a=e.continueInstallClick,o=e.gameLaunchParams,r=(0,ae.useTranslation)().translate,i=(0,ye.useTheme)(),l=We().classes,c=l.container,s=l.paragraph,u=l.columnWrapper,d=l.column,p=l.borderRight,m=l.list,v=l.columnRight,f=l.qrBox,h=l.qrImage;return(0,$.useEffect)(function(){var t=null,e=null,n=new MutationObserver(function(){(t=document.querySelector(".custom-click-link"))&&(t.classList.remove("disabled"),e=function(e){e.data=o,a.call(t,e)},t.addEventListener("click",e),n.disconnect())});return n.observe(document.body,{childList:!0,subtree:!0}),function(){n.disconnect(),t&&e&&t.removeEventListener("click",e)}},[a,o]),e=et,l=ht("/download/client?os=mac"),Re.jsClientDeviceIdentifier.isWindows&&(e=tt,l=ht("/download/client?os=win")),ee().createElement(ye.Dialog,{open:t,onClose:n,maxWidth:!1},ee().createElement(ye.Grid,{className:c},ee().createElement(ye.IconButton,{"aria-label":r(ze),color:"inherit",onClick:n,size:"small",style:He},ee().createElement(dt,{fill:i.palette.content.standard})),ee().createElement("h2",{style:Me({},i.typography.h2)},r(Ye)),ee().createElement("p",{className:s,dangerouslySetInnerHTML:{__html:"".concat(r(Ke)," ").concat(r(Ze,{startLink:'<a href="'.concat(l,'">'),endLink:"</a>"}))}}),ee().createElement(ye.Grid,{className:u},ee().createElement(ye.Grid,{className:"".concat(d," ").concat(p)},ee().createElement("h5",{style:je(i)},r($e)),ee().createElement("ol",{className:m},ee().createElement("li",{style:_e,dangerouslySetInnerHTML:{__html:r(e,{startBold:"<b>",endBold:"</b>"})}}),ee().createElement("li",{style:_e,dangerouslySetInnerHTML:{__html:r(nt,{startBold:"<b>",endBold:"</b>"})}}),ee().createElement("li",{style:_e},r(at)),ee().createElement("li",{style:_e,dangerouslySetInnerHTML:{__html:r(ot,{startLink:'<a class="custom-click-link">',endLink:"</a>"})}}))),ee().createElement(ye.Grid,{className:v},ee().createElement("h5",{style:ct({},je(i))},r(rt)),ee().createElement("p",{style:Fe},r(it)),ee().createElement(ye.Grid,{className:f},ee().createElement("img",{src:Ne(),alt:"QR Code",className:h}))))))}var ht=B.Endpoints.getAbsoluteUrl,gt={common:["Common.VisitGame"],feature:"Feature.DownloadLanding"};function yt(e,t,n,a,o,r,i){try{var l=e[r](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(a,o)}function bt(l){return function(){var e=this,i=arguments;return new Promise(function(t,n){var a=l.apply(e,i);function o(e){yt(a,t,n,o,r,"next",e)}function r(e){yt(a,t,n,o,r,"throw",e)}o(void 0)})}}function wt(t,e){var n,a=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)),a}function Pt(a){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?wt(Object(o),!0).forEach(function(e){var t,n;t=a,e=o[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):wt(Object(o)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(o,e))})}return a}function Et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,o=!1,r=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){o=!0,r=e}finally{try{a||null==l.return||l.return()}finally{if(o)throw r}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return It(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return It(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function It(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Ct=null,St=null,xt={isInstalling:!1,statusInterval:0,robloxLocale:"",gameLocale:"",protocolUrlSeparator:"+",protocolUrlIncludesLaunchTime:!1,protocolDetectionEnabled:!1,avatarParamEnabled:!0,separateScriptParamsEnabled:!1,waitTimeBeforeFailure:300,protocolNameForStudio:"roblox-studio",protocolNameForClient:"roblox-client",logger:null,channel:"",studioChannel:"",playerChannel:"",isDuarAutoOptInEnabled:!1,isDuarOptOutDisabled:!1,isJoinAttemptIdEnabled:!1},At={Global:"Global"},Tt={edit:"edit",plugin:"plugin",play:"play",build:"build",app:"app",asset:"asset"};function Ut(e){return e===Tt.edit||e===Tt.plugin||e===Tt.asset}var Lt=function(){var e=Et((0,$.useState)(!0),2),t=e[0],n=e[1],e=(0,$.useCallback)(function(){return n(!1)},[]);return ee().createElement(ae.WebBloxProvider,null,ee().createElement(ae.TranslationProvider,{config:gt},ee().createElement(mt,{isOpen:t,onClose:e})))};function kt(){var e="react-dialog-container",t=document.getElementById(e);return t?t.innerHTML="":((t=document.createElement("div")).id=e,document.body.appendChild(t)),t}function Ot(){if(!St){var t="Website.DownloadFlow",e=B.ExperimentationService.getAllValuesForLayer(t);if(!e||"function"!=typeof e.then)return St=Promise.resolve(null);St=e.then(function(e){e&&B.ExperimentationService.logLayerExposure(t),Ct=!0===(null==e?void 0:e.showNewInstruction);e=!!B.DeviceMeta&&(0,B.DeviceMeta)().isDesktop;return Ct&&e})}return St}function Dt(a,o){var t;t=function(e){function t(){clearTimeout(n),a()}var n=setTimeout(function(){l().modal.close(),function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],a=Ut(t.launchMode);if(n){n=kt();return ne().render(ee().createElement(Kt,{gameLaunchParams:t}),n)}a=a?B.PlaceLauncher.Resources.ProtocolHandlerAreYouInstalled.studio:B.PlaceLauncher.Resources.ProtocolHandlerAreYouInstalled.play,B.Dialog.open({bodyContent:a.content,allowHtmlContentInBody:!0,showAccept:!0,acceptColor:B.Dialog.green,acceptText:a.buttonText,showDecline:!1,dismissable:!1,xToCancel:!0,footerText:a.footerContent,allowHtmlContentInFooter:!0,onAccept:function(){Yt(t)},cssClass:"protocolhandler-are-you-installed-modal"})}(t,o,e)},5e3);!function(e,t,n){var a,n=2<arguments.length&&void 0!==n&&n,t=Ut(t);n?(a=kt(),ne().render(ee().createElement(Lt,null),a)):(a=(t?B.PlaceLauncher.Resources.ProtocolHandlerStartingDialog.studio:B.PlaceLauncher.Resources.ProtocolHandlerStartingDialog.play).content,t=B.PlaceLauncher.Resources.ProtocolHandlerStartingDialog.loader,B.Dialog.open({bodyContent:a+t,allowHtmlContentInBody:!0,showAccept:!1,showDecline:!1,dismissable:!1,cssClass:"protocolhandler-starting-modal",onCloseCallback:e,onCancel:function(){e(),l().modal.close()}}))}(t,o.launchMode,e)},null!==Ct?t(Ct):Ot().then(function(e){t(e)})}function Bt(){l().modal.close();var e=new B.TranslationResourceProvider,t=e.getTranslationResource("Common.VisitGame"),e=e.getTranslationResource("CommonUI.Controls");B.Dialog.open({titleText:t.get("Heading.ErrorStartingGame"),bodyContent:t.get("Response.Dialog.ErrorLaunching"),acceptText:e.get("Action.OK")||"OK",showDecline:!1})}function Rt(t){var n=new(l().Deferred);return clearInterval(xt.statusInterval),xt.statusInterval=setInterval(function(){var e="".concat(B.EnvironmentUrls.matchmakingApi,"/v1/client-status");l().ajax({method:"GET",url:e,dataType:"json",contentType:"application/json",cache:!1,success:function(e){"Unknown"!==(null==e?void 0:e.status)&&(n.resolve(t),clearInterval(xt.statusInterval))}})},3e3),n}function Nt(e){l().modal.close();e={launchMethod:"Protocol",params:e};l()(M).trigger(M.startClientSucceededEvent,e),xt.isInstalling&&(l()(M).trigger(M.successfulInstallEvent,e),xt.isInstalling=!1)}function Gt(e){return!1}function Mt(e){var a=new(l().Deferred),t=Ut(null==e?void 0:e.launchMode),o=Pt({},e);return!B.CurrentUser.isAuthenticated||t?(a.resolve(o),a):xt.getClientAssertionEnabled().then(function(e){return e?xt.doClientAssertionRequest().then(function(e){return n(e.clientAssertion)},function(){return n()}):n()},function(){return n()});function n(e){return xt.doAuthTicketRequest(e).then(function(e,t,n){n=n.getResponseHeader("RBX-Authentication-Ticket");return n&&0<n.length?(o.gameInfo=n,a.resolve(o)):a.reject(),a})}}function jt(e){var t;xt.protocolDetectionEnabled&&void 0!==navigator.msLaunchUri?navigator.msLaunchUri(e,function(){},function(){}):(0<(t=l()("iframe#gamelaunch")).length&&t.remove(),t=l()("<iframe id='gamelaunch' class='hidden'></iframe>").attr("src",e),l()("body").append(t),t=new Event("ProtocolLaunchStartSelenium"),window.dispatchEvent(t))}function Ft(e){var t,n=new(l().Deferred),a=Ut(e.launchMode),o=xt.protocolUrlSeparator,r="".concat(e.protocolName,":"),i=[];return i.push(1),i.push("launchmode:".concat(e.launchMode)),!e.gameInfo||e.protocolName===xt.protocolNameForStudio&&0===e.gameInfo.indexOf("Guest:")||i.push("gameinfo:".concat(encodeURIComponent(e.gameInfo))),xt.protocolUrlIncludesLaunchTime&&i.push("launchtime:".concat(e.launchTime)),"True"===B.PlaceLauncher.Resources.IsProtocolHandlerBaseUrlParamEnabled&&(t=B.EnvironmentUrls.websiteUrl||"https://".concat(window.location.host),i.push("baseUrl:".concat(encodeURIComponent(t)))),a&&B.CurrentUser.isAuthenticated&&(i.push("distributorType:".concat(At.Global)),i.push("userId:".concat(B.CurrentUser.userId))),a&&i.push("browser:".concat((0,m.getCurrentBrowser)())),l().each(e.otherParams,function(e,t){e===t?i.push(e):i.push("".concat(e,":").concat(encodeURIComponent(t)))}),r+=i.join(o),M.gameLaunchLogger&&M.gameLaunchLogger.logToConsole("launchProtocolUrl: ".concat(JSON.stringify({url:r,params:e}))),jt(r),n.resolve(e),n}function Vt(e){return l().when(Mt(e),(e="".concat(B.EnvironmentUrls.matchmakingApi,"/v1/client-status"),null===(e=l().ajax({method:"POST",url:e,contentType:"application/json",data:{status:"Unknown"},dataType:"json"}))||void 0===e?void 0:e.success)).then(Ft,Bt).then(Rt).then(Nt,Gt)}function _t(e){return l()(this).hasClass("disabled")||(Vt(e.data),void 0===(e=l()("#ProtocolHandlerClickAlwaysAllowed")).data("hideRememberOverlay")&&e.show()),!1}function Ht(e){e=Pt({},e);return e.launchTime=(new Date).getTime(),e.otherParams.browsertrackerid=B.Cookies.getBrowserTrackerId(),e.otherParams.robloxLocale=xt.robloxLocale,e.otherParams.gameLocale=xt.gameLocale,e.otherParams.channel=xt.channel,e.protocolName===xt.protocolNameForStudio?e.otherParams.channel=xt.studioChannel:e.otherParams.channel=xt.playerChannel,xt.isDuarAutoOptInEnabled&&e.protocolName===xt.protocolNameForClient&&!e.otherParams.LaunchExp&&(xt.isDuarOptOutDisabled?e.otherParams.LaunchExp="InApp":e.otherParams.LaunchExp="PreferInApp"),l()(M).trigger(M.startClientAttemptedEvent,{launchMethod:"Protocol",params:e}),Dt(function(){},e),Vt(e)}function Wt(e,t){var n=" ";B.Endpoints&&B.Endpoints.Urls&&(n="".concat(B.Endpoints.getAbsoluteUrl("/Game/PlaceLauncher.ashx"),"?")),"h"!==n[0]&&(n="http://".concat(window.location.host)+"/Game/PlaceLauncher.ashx?"),n=n.replace("placelauncher","PlaceLauncher");e={request:e,browserTrackerId:B.Cookies.getBrowserTrackerId()};return l().extend(e,t),n+l().param(e)}function qt(e,t,n){return a="Edit.ashx",o=e,e=t,t=n,n=" ",B.Endpoints&&B.Endpoints.Urls&&(n="".concat(B.Endpoints.getAbsoluteUrl("/Game/".concat(a)),"?")),"h"!==n[0]&&(n="http://".concat(window.location.host)+"/Game/".concat(a,"?")),e={placeId:o,upload:t?o:"",universeId:e,testMode:!1},n+l().param(e);var a,o}function zt(){return Jt.apply(this,arguments)}function Jt(){return(Jt=bt(regeneratorRuntime.mark(function e(){var t,n,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("downloadInstallerIFrame"),n="/download/client",a="",t.referrerPolicy="no-referrer",e.next=6,ge(window.location.toString());case 6:o=e.sent,a=o,t.src="".concat(n).concat(a);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Xt(){return(Xt=bt(regeneratorRuntime.mark(function e(t,n){var a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Pt({},t),o=a.gameInfo,void 0!==a.gameInfo&&(a.gameInfo=void 0),l()(M).trigger(M.beginInstallEvent,{launchMethod:"Protocol",params:a}),xt.isInstalling=!0,a.url=window.location.href,void 0!==o&&(a.gameInfo=o),!n){e.next=11;break}document.getElementById("downloadInstallerIFrame").src="/download/studio",e.next=13;break;case 11:return e.next=13,zt();case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Qt=function(e){var t=e.gameLaunchParams,n=Et((0,$.useState)(!0),2),e=n[0],a=n[1],n=(0,$.useCallback)(function(){return a(!1)},[]);return ee().createElement(ae.WebBloxProvider,null,ee().createElement(ae.TranslationProvider,{config:gt},ee().createElement(ft,{isOpen:e,onClose:n,continueInstallClick:_t,gameLaunchParams:t})))};function Yt(e,t){var n,a=1<arguments.length&&void 0!==t&&t,t=Ut(e.launchMode);l().modal.close(),t||(a?(n=kt(),ne().render(ee().createElement(Qt,{gameLaunchParams:e}),n)):B.Dialog.open({titleText:l()("#InstallationInstructions .ph-modal-header .title").text(),allowHtmlContentInBody:!0,bodyContent:l()("#InstallationInstructions .modal-content-container").html(),allowHtmlContentInFooter:!0,footerText:l()("#InstallationInstructions .xsmall").html(),acceptColor:B.Dialog.none,declineColor:B.Dialog.none,cssClass:"install-instructions-modal",xToCancel:!0,onCloseCallback:function(){l()("#ProtocolHandlerClickAlwaysAllowed").hide()}}),0===l()("#GameLaunchInstructionsLinkScript").length&&xt.attachManualDownloadToLink(),e.placeId&&null!==window.localStorage.getItem("ref_info")&&(n=function(){var e=window.localStorage.getItem("ref_info");if(window.localStorage.removeItem("ref_info"),!e)return{};try{return JSON.parse(atob(e))}catch(e){return{}}}(),e.referredByPlayerId=n[e.placeId]),setTimeout(function(){l()(".VisitButtonContinueGLI a").removeClass("disabled").click(e,_t)},5e3)),function(){Xt.apply(this,arguments)}(e,t)}var Kt=function(e){var t=e.gameLaunchParams,n=Et((0,$.useState)(!0),2),e=n[0],a=n[1],o=(0,$.useCallback)(function(){return a(!1)},[]),n=(0,$.useCallback)(bt(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{Yt(t,!0)}finally{o()}case 1:case"end":return e.stop()}},e)})),[t,o]);return ee().createElement(ae.WebBloxProvider,null,ee().createElement(ae.TranslationProvider,{config:gt},ee().createElement(vt,{isOpen:e,onClose:o,callback:n})))};function Zt(){return $t.apply(this,arguments)}function $t(){return($t=bt(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l()(M).trigger(M.manualDownloadEvent,{launchMethod:"Protocol",params:{}}),e.next=3,zt();case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function en(){return(en=bt(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l()("body #GameLaunchManualInstallLink").click(bt(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zt();case 2:return e.abrupt("return",!1);case 3:case"end":return e.stop()}},e)})));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}Object.assign(xt,{joinMultiplayerGame:function(e){var t=xt.protocolNameForClient,n=Wt("RequestGame",e),a=!0===e.isPlayTogetherGame;return Ht({protocolName:t,launchMode:"play",otherParams:{placelauncherurl:n},placeId:e.placeId,isPlayTogetherGame:a,launchData:e.launchData,eventId:e.eventId})},openStudio:function(){var e={};return xt.avatarParamEnabled&&(e.avatar="avatar"),Ht({protocolName:xt.protocolNameForStudio,launchMode:"edit",otherParams:e})},tryAssetInStudio:function(e){return e={assetid:e},xt.avatarParamEnabled&&(e.avatar="avatar"),Ht({protocolName:xt.protocolNameForStudio,launchMode:"asset",otherParams:e})},openPluginInStudio:function(e){e={pluginid:e},xt.avatarParamEnabled&&(e.avatar="avatar"),Ht({protocolName:xt.protocolNameForStudio,launchMode:"plugin",otherParams:e})},editGameInStudio:function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]&&arguments[3];n=xt.separateScriptParamsEnabled?{task:a?"StartTeamTest":"EditPlace",placeId:e,universeId:t}:{script:qt(e,t,n)},xt.avatarParamEnabled&&(n.avatar="avatar"),Ht({protocolName:xt.protocolNameForStudio,launchMode:"edit",otherParams:n,placeId:e})},followPlayerIntoGame:function(e){return Ht({protocolName:xt.protocolNameForClient,launchMode:"play",otherParams:{placelauncherurl:Wt("RequestFollowUser",e)}})},joinGameInstance:function(e){var t=xt.protocolNameForClient,n=Wt("RequestGameJob",e),a=!0===e.isPlayTogetherGame;return Ht({protocolName:t,launchMode:"play",otherParams:{placelauncherurl:n},placeId:e.placeId,isPlayTogetherGame:a})},joinPrivateGame:function(e){return Ht({protocolName:xt.protocolNameForClient,launchMode:"play",otherParams:{placelauncherurl:Wt("RequestPrivateGame",e)},placeId:e.placeId})},playTogetherGame:function(e){return Ht({protocolName:xt.protocolNameForClient,launchMode:"play",otherParams:{placelauncherurl:Wt("RequestPlayTogetherGame",e)},placeId:e.placeId,conversationId:e.conversationId})},manualDownload:Zt,attachManualDownloadToLink:function(){return en.apply(this,arguments)},startDownload:zt,setLocationHref:jt,doAuthTicketRequest:function(e){var t="".concat(B.EnvironmentUrls.authApi,"/v1/authentication-ticket/");return l().ajax({method:"POST",url:t,data:JSON.stringify({clientAssertion:e}),contentType:"application/json"})},getAuthTicket:Mt,doClientAssertionRequest:function(){var e="".concat(B.EnvironmentUrls.authApi,"/v1/client-assertion/");return l().ajax({method:"GET",url:e,contentType:"application/json",timeout:1e4})},getClientAssertionEnabled:function(){return l().Deferred().resolve(!0)},openDesktopUniversalApp:function(){var e={},t=xt.protocolNameForClient;return e.protocolName=t,e.launchTime=(new Date).getTime(),e.launchMode=Tt.app,e.otherParams={},e.otherParams.browsertrackerid=B.Cookies.getBrowserTrackerId(),e.otherParams.robloxLocale=xt.robloxLocale,e.otherParams.gameLocale=xt.gameLocale,e.otherParams.LaunchExp="InApp",l()(M).trigger(M.startClientAttemptedEvent,{launchMethod:"Protocol",params:e}),Dt(function(){},e),Vt(e)},showDialog:Dt,showLaunchFailureDialog:Bt,cleanUpAndLogSuccess:Nt,cleanUpAndLogFailure:Gt,startGameWithDeepLinkUrl:function(e,t){Dt(function(){},{launchMode:"play",protocolName:xt.protocolNameForClient,placeId:t}),jt(e),setTimeout(function(){l().modal.close()},6e4)}}),l()(document).ready(function(){M.setGameLaunchInterface(xt);var e=l()("#PlaceLauncherStatusPanel");Ot(),xt.protocolNameForClient=e.data("protocol-name-for-client"),xt.protocolNameForStudio=e.data("protocol-name-for-studio"),xt.protocolUrlIncludesLaunchTime=e.data("protocol-url-includes-launchtime"),xt.protocolDetectionEnabled=e.data("protocol-detection-enabled"),xt.separateScriptParamsEnabled=e.data("protocol-separate-script-parameters-enabled"),xt.avatarParamEnabled=e.data("protocol-avatar-parameter-enabled"),xt.isJoinAttemptIdEnabled="True"===(null!==(t=e.data("is-join-attempt-id-enabled"))&&void 0!==t?t:"False"),xt.robloxLocale=e.data("protocol-roblox-locale"),xt.gameLocale=e.data("protocol-game-locale");var t=e.data("protocol-channel-name");"string"==typeof t&&"LIVE"!==t.toUpperCase()&&(xt.channel=t);t=e.data("protocol-studio-channel-name");"string"==typeof t&&"LIVE"!==t.toUpperCase()&&(xt.studioChannel=t);t=e.data("protocol-player-channel-name");"string"==typeof t&&"LIVE"!==t.toUpperCase()&&(xt.playerChannel=t),xt.logger||void 0===window.Roblox.ProtocolHandlerLogger||(xt.logger=window.Roblox.ProtocolHandlerLogger),xt.isDuarAutoOptInEnabled=e.data("is-duar-auto-opt-in-enabled"),xt.isDuarOptOutDisabled=e.data("is-duar-opt-out-disabled")});var te=xt,tn=ReactStyleGuide,nn=window.EventTracker?EventTracker:{fireEvent:console.log,start:console.log,endSuccess:console.log,endCancel:console.log,endFailure:console.log},an=function(){return(an=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},on={UnplayableOtherReason:"UnplayableOtherReason",Playable:"Playable",GuestProhibited:"GuestProhibited",GameUnapproved:"GameUnapproved",IncorrectConfiguration:"IncorrectConfiguration",UniverseRootPlaceIsPrivate:"UniverseRootPlaceIsPrivate",InsufficientPermissionFriendsOnly:"InsufficientPermissionFriendsOnly",InsufficientPermissionGroupOnly:"InsufficientPermissionGroupOnly",DeviceRestricted:"DeviceRestricted",UnderReview:"UnderReview",PurchaseRequired:"PurchaseRequired",AccountRestricted:"AccountRestricted",TemporarilyUnavailable:"TemporarilyUnavailable",ComplianceBlocked:"ComplianceBlocked",ContextualPlayabilityRegionalAvailability:"ContextualPlayabilityRegionalAvailability",ContextualPlayabilityRegionalCompliance:"ContextualPlayabilityRegionalCompliance",ContextualPlayabilityAgeRecommendationParentalControls:"ContextualPlayabilityAgeRecommendationParentalControls",ContextualPlayabilityAgeGated:"ContextualPlayabilityAgeGated",PlaceHasNoPublishedVersion:"PlaceHasNoPublishedVersion",ContextualPlayabilityUnverifiedSeventeenPlusUser:"ContextualPlayabilityUnverifiedSeventeenPlusUser",FiatPurchaseRequired:"FiatPurchaseRequired",ContextualPlayabilityUnrated:"ContextualPlayabilityUnrated",ContextualPlayabilityAgeGatedByDescriptor:"ContextualPlayabilityAgeGatedByDescriptor",ContextualPlayabilityExperienceBlockedParentalControls:"ContextualPlayabilityExperienceBlockedParentalControls"},rn={playButtonErrorStatusTranslationMap:((be={})[on.UnplayableOtherReason]="UnplayableError.UnplayableOther",be[on.TemporarilyUnavailable]="UnplayableError.TemporarilyUnavailable",be[on.GameUnapproved]="UnplayableError.GameUnapproved",be[on.IncorrectConfiguration]="UnplayableError.IncorrectConfiguration",be[on.UniverseRootPlaceIsPrivate]="UnplayableError.UniverseRootPlaceIsPrivate",be[on.InsufficientPermissionFriendsOnly]="UnplayableError.InsufficientPermissionFriendsOnly",be[on.InsufficientPermissionGroupOnly]="UnplayableError.InsufficientPermissionGroupOnly",be[on.DeviceRestricted]="UnplayableError.DeviceRestrictedDefault",be[on.UnderReview]="UnplayableError.UnderReview",be[on.AccountRestricted]="UnplayableError.AccountRestricted",be[on.ComplianceBlocked]="UnplayableError.ComplianceBlocked",be[on.ContextualPlayabilityRegionalAvailability]="UnplayableError.ContextualPlayabilityRegionalAvailability",be[on.ContextualPlayabilityRegionalCompliance]="UnplayableError.ContextualPlayabilityRegionalCompliance",be[on.ContextualPlayabilityAgeRecommendationParentalControls]="UnplayableError.ContextualPlayabilityAgeRecommendationParentalControls",be[on.ContextualPlayabilityAgeGated]="UnplayableError.ContextualPlayabilityAgeGated",be[on.PlaceHasNoPublishedVersion]="UnplayableError.PlaceHasNoPublishedVersion",be[on.ContextualPlayabilityUnrated]="UnplayableError.ContextualPlayabilityUnrated",be[on.ContextualPlayabilityAgeGatedByDescriptor]="UnplayableError.ContextualPlayabilityAgeGatedByDescriptor",be[on.ContextualPlayabilityExperienceBlockedParentalControls]="UnplayableError.ContextualPlayabilityExperienceBlockedParentalControls",be),playButtonTextTranslationMap:{ActionNeeded:"PlayButtonText.ActionNeeded",Unplayable:"PlayButtonText.Unavailable",Buy:"PlayButtonText.Buy"},eventStreamProperties:function(e,t){return{eventName:"playGameClicked",ctx:"click",properties:an(an({},t),{placeId:e}),gamePlayIntentEventCtx:"PlayButton"}},PlayabilityStatus:on,counterEvents:{ActionNeeded:"ActionNeededButtonShown",Unplayable:"UnplayableErrorShown",SeventeenPlusInPlayable:"ReachedSeventeenPlusCaseInPlayable",PlayButtonUpsellSelfUpdateSettingTriggered:"PlayButtonUpsellSelfUpdateSettingTriggered",PlayButtonUpsellAskYourParentTriggered:"PlayButtonUpsellAskYourParentTriggered",PlayButtonUpsellRestrictedUnplayableTriggered:"PlayButtonUpsellRestrictedUnplayableTriggered",PlayButtonUpsellAgeRestrictionVerificationTriggered:"PlayButtonUpsellAgeRestrictionVerificationTriggered",PlayButtonUpsellUnknownSettingOrAge:"PlayButtonUpsellUnknownSettingOrAge",PlayButtonUpsellMinimalMaturityRating:"PlayButtonUpsellMinimalMaturityRating",PlayButtonUpsellAgeNotInMapping:"PlayButtonUpsellAgeNotInMapping",PlayButtonUpsellParentalConsentError:"PlayButtonUpsellParentalConsentError",PlayButtonUpsellAgeRestrictionVerificationError:"PlayButtonUpsellAgeRestrictionVerificationError",PlayButtonUpsellUnknownRequirement:"PlayButtonUpsellUnknownRequirement",PreparePurchaseUrlError:"PreparePurchaseUrlError",PlayButtonShowIdentificationError:"PlayButtonShowIdentificationIssueCaught"},avatarChatUpsellLayer:"Voice.AvatarChat.Upsell",avatarChatUpsellLayerU13:"Voice.AvatarChat.U13Upsell",playButtonLayer:"Website.PlayButton",unlockPlayIntentConstants:{eventName:"unlockPlayIntent",gameLaunchFallbackUpsellName:"GameLaunch",restrictedUnplayableUpsellName:"RestrictedUnplayableOptionNotFound",unverifiedSeventeenPlusUpsellName:"AgeVerificationUnverifiedSeventeenPlusUser",fiatPurchaseUpsellName:"FiatPurchase"},FeatureExperienceDetails:{PlayButtonMessageAgreeToNotice:"PlayButtonMessage.AgreeToNotice"},defaultAfReferralProperties:{pid:"experiencestart_mobileweb",is_retargeting:"false"}},ln=CoreRobloxUtilities,cn=function(e,i,l,c){return new(l=l||Promise)(function(n,t){function a(e){try{r(c.next(e))}catch(e){t(e)}}function o(e){try{r(c.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(a,o)}r((c=c.apply(e,i||[])).next())})},sn=function(n,a){var o,r,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,r&&(i=2&t[0]?r.return:t[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,t[1])).done)return i;switch(r=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,r=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=a.call(n,l)}catch(e){t=[6,e],r=0}finally{o=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},un=ln.dataStores.gamesDataStore,dn=function(n){return cn(void 0,void 0,Promise,function(){var t;return sn(this,function(e){switch(e.label){case 0:return[4,un.getProductInfo(n)];case 1:return t=e.sent().data.data,[2,(void 0===t?[]:t)[0]]}})})},pn=function(n){return cn(void 0,void 0,Promise,function(){var t;return sn(this,function(e){switch(e.label){case 0:return[4,un.getPlaceDetails(n)];case 1:return t=e.sent().data,[2,(void 0===t?[]:t)[0]]}})})},mn=function(n){return cn(void 0,void 0,Promise,function(){var t;return sn(this,function(e){switch(e.label){case 0:return[4,un.getPlayabilityStatus(n)];case 1:return t=e.sent().data,[2,(void 0===t?[]:t)[0]]}})})},vn=function(n){return cn(void 0,void 0,Promise,function(){var t;return sn(this,function(e){switch(e.label){case 0:return t={withCredentials:!0,url:B.EnvironmentUrls.voiceApi+"/v1/settings/verify/show-age-verification-overlay/"+n},[4,m.httpService.get(t)];case 1:return[2,e.sent().data]}})})},fn=function(){return cn(void 0,void 0,Promise,function(){return sn(this,function(e){return[2,B.Guac.callBehaviour("play-button-ui")]})})},hn=function(){var e={url:B.EnvironmentUrls.apiGatewayUrl+"/user-settings-api/v1/user-settings/settings-and-options",withCredentials:!0};return m.httpService.get(e).then(function(e){return e.data})},gn=function(e){var t={url:B.EnvironmentUrls.apiGatewayUrl+"/experience-guidelines-api/experience-guidelines/get-age-recommendation",withCredentials:!0};return m.httpService.post(t,{universeId:e}).then(function(e){return e.data})},yn=function(e,t){var n={url:B.EnvironmentUrls.apiGatewayUrl+"/fiat-paid-access-service/v1/purchase",withCredentials:!0,retryable:!0};return m.httpService.post(n,{rootPlaceId:e,expectedBasePriceId:t}).then(function(e){var e=JSON.parse(null!==(e=null===(e=e.data)||void 0===e?void 0:e.checkoutUrl)&&void 0!==e?e:"");return null!==(e=null==e?void 0:e.checkoutUrl)&&void 0!==e?e:""})},bn=function(){return(bn=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},wn=function(e,i,l,c){return new(l=l||Promise)(function(n,t){function a(e){try{r(c.next(e))}catch(e){t(e)}}function o(e){try{r(c.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(a,o)}r((c=c.apply(e,i||[])).next())})},Pn=function(n,a){var o,r,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,r&&(i=2&t[0]?r.return:t[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,t[1])).done)return i;switch(r=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,r=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=a.call(n,l)}catch(e){t=[6,e],r=0}finally{o=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},En=rn.unlockPlayIntentConstants,In=rn.defaultAfReferralProperties;function Cn(e){if(!B.GameLauncher.isJoinAttemptIdEnabled())return{};var t=e.joinAttemptOrigin,e=e.joinAttemptId;return{joinAttemptId:e="string"==typeof e?e:m.uuidService.generateRandomUuid(),joinAttemptOrigin:t}}function Sn(e,t,n){n=bn(bn(bn({placeId:t},e),Cn(e)),n);return ln.eventStreamService.sendEventWithTarget("playGameClicked","click",n),n}function xn(e,t){void 0===t&&(t={});var n=B.EnvironmentUrls.websiteUrl+"/games/start?placeid="+e;B.GameLauncher.isJoinAttemptIdEnabled()&&(e=(a=Cn(t)).joinAttemptId,a=a.joinAttemptOrigin,"string"==typeof e&&0<e.length&&(n+="&joinAttemptId="+e,"string"==typeof a&&0<a.length&&(n+="&joinAttemptOrigin="+a)));var a=t.launchData,t=t.eventId;return"string"==typeof a&&0<a.length&&(n+="&launchData="+a),"string"==typeof t&&0<t.length&&(n+="&eventId="+t),encodeURIComponent(n)}function An(e,t,n,a,o,r,i){void 0===o&&(o={}),void 0===r&&(r={}),void 0===i&&(i={});var l,c=Re.deviceMeta.getDeviceMeta();null!=c&&c.isIosDevice||null!=c&&c.isAndroidDevice||Re.jsClientDeviceIdentifier.isIos13Ipad||null!=c&&c.isChromeOs?(l=xn(e,Sn(o,e,r)),i=m.urlService.composeQueryString(bn(bn({},In),i)),window.open("https://ro.blox.com/Ebh5?"+i+"&af_dp="+l+"&af_web_dp="+l+"&deep_link_value="+l,"_self")):(l="0",null!==window.localStorage.getItem("ref_info")&&(l=function(){var e=window.localStorage.getItem("ref_info");if(!e)return{};try{return JSON.parse(atob(e))}catch(e){return{}}}()[e]),ln.playGameService.launchGame(ln.playGameService.buildPlayGameProperties(t,e,a,void 0,n,l,r),rn.eventStreamProperties(e,o)),window.localStorage.getItem("ref_info")&&window.localStorage.removeItem("ref_info"))}function Tn(e,t){void 0===t&&(t={});var n=Re.deviceMeta.getDeviceMeta();null!=n&&n.isIosDevice||null!=n&&n.isAndroidDevice||Re.jsClientDeviceIdentifier.isIos13Ipad||null!=n&&n.isChromeOs?(n=xn(e,Sn({},e,{})),t=m.urlService.composeQueryString(bn(bn({},In),t)),window.open("https://ro.blox.com/Ebh5?"+t+"&af_dp="+n+"&af_web_dp="+n+"&deep_link_value="+n,"_self")):ln.playGameService.launchGame(ln.playGameService.buildPlayGameProperties(void 0,e.toString()),rn.eventStreamProperties(e,{}))}function Un(){return wn(void 0,void 0,Promise,function(){return Pn(this,function(e){try{return[2,B.IdentityVerificationService.startVerificationFlow()]}catch(e){return[2,[!1,!1]]}return[2]})})}function Ln(t,n){return wn(void 0,void 0,Promise,function(){return Pn(this,function(e){try{return[2,B.IdentityVerificationService.showVoiceOptInOverlay(t,n)]}catch(e){return[2,!1]}return[2]})})}function kn(){return wn(void 0,void 0,Promise,function(){return Pn(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,B.AccessManagementUpsellService.showAccessManagementVerificationModal()];case 1:return[2,e.sent()];case 2:return e.sent(),[2,!1];case 3:return[2]}})})}function On(e,t){try{var n=a().UrlParser.getParameterValueByName("shareLinkSourceType",!1);if("experiencedetails"!==(null==n?void 0:n.toLowerCase()))return;B.EventStream.SendEventWithTarget("shareLinkGameJoin","GamePlayButtonWeb",{placeId:e,universeId:t},B.EventStream.TargetTypes.WWW)}catch(e){}}function Dn(e,t){return void 0!==e&&(e!==on.Playable&&e!==on.GuestProhibited&&e!==on.PurchaseRequired&&e!==on.ContextualPlayabilityUnverifiedSeventeenPlusUser&&e!==on.FiatPurchaseRequired&&(e!==on.ContextualPlayabilityAgeRecommendationParentalControls||!t))}function Bn(e,t,n){n={universeId:e,upsellName:t,playabilityStatus:n},ln.eventStreamService.sendEvent({name:En.eventName,type:En.eventName,context:ln.eventStreamService.eventTypes.formInteraction},n)}var e={common:["Common.VisitGame"],feature:"Feature.ExperienceDetails"},Rn=rn.playButtonTextTranslationMap,Nn=(0,ae.withTranslations)(function(e){var t=e.onButtonClick,n=e.iconClassName,a=void 0===n?"icon-status-private-primary":n,o=e.buttonWidth,r=void 0===o?tn.Button.widths.full:o,n=e.buttonClassName,o=void 0===n?"btn-common-play-game-action-needed-lg":n,n=e.hideButtonText,n=void 0!==n&&n,e=e.translate;return ee().createElement(ee().Fragment,null,ee().createElement(tn.Button,{"data-testid":"play-action-needed-button",width:r,className:o,onClick:t},ee().createElement("span",{className:a}),!n&&ee().createElement("span",{className:"btn-text"},e(Rn.ActionNeeded))),ee().createElement("div",{id:"access-management-upsell-container-v1"}))},e);function Gn(e){var t=e.isModalOpen,n=e.navigateToAccountSettings,a=e.closeModal,e=e.translate;return ee().createElement(jn,{titleText:e("UpdateMaturitySettingModal.Label.Title"),bodyText:e("UpdateMaturitySettingModal.Label.Body"),primaryButtonText:e("UpdateMaturitySettingModal.Action.GoToSettings"),secondaryButtonText:e("UpdateMaturitySettingModal.Action.Cancel"),onPrimaryButtonClick:n,onSecondaryButtonClick:a,isModalOpen:t,onCloseModal:a})}function Mn(e){var t=e.isModalOpen,n=e.closeModal,e=e.translate;return ee().createElement(jn,{titleText:e("RestrictedUnplayableModal.Label.Title"),bodyText:e("RestrictedUnplayableModal.Label.Body"),secondaryButtonText:e("RestrictedUnplayableModal.Action.Ok"),onSecondaryButtonClick:n,isModalOpen:t,onCloseModal:n})}(be=function(e){var t=e.titleText,n=e.bodyText,a=e.primaryButtonText,o=e.secondaryButtonText,r=e.onPrimaryButtonClick,i=e.onSecondaryButtonClick,l=e.isModalOpen,c=e.onCloseModal,e=e.modalSize;return ee().createElement(tn.Modal,{show:l,onHide:c,size:e,"aria-labelledby":"upsell-modal-title",className:"upsell-modal-container",centered:"true"},ee().createElement(tn.Modal.Header,{useBaseBootstrapComponent:!0},ee().createElement("button",{type:"button",className:"close",onClick:c},ee().createElement("span",{className:"icon-close"})),ee().createElement(tn.Modal.Title,{id:"upsell-modal-title"},t)),ee().createElement(tn.Modal.Body,null,n),ee().createElement(tn.Modal.Footer,null,o&&i&&ee().createElement(tn.Button,{variant:tn.Button.variants.secondary,size:tn.Button.sizes.medium,onClick:i,className:"modal-button"},o),a&&r&&ee().createElement(tn.Button,{variant:tn.Button.variants.primary,size:tn.Button.sizes.medium,onClick:r,className:"modal-button"},a)))}).defaultProps={primaryButtonText:void 0,secondaryButtonText:void 0,onPrimaryButtonClick:void 0,onSecondaryButtonClick:void 0,modalSize:"sm"};var jn=be,Fn=function(e){var t=(0,$.useState)(void 0),n=t[0],a=t[1],o=(0,$.useState)(!1),r=o[0],i=o[1],l=(0,$.useState)(void 0),c=l[0],s=l[1],t=(0,$.useState)(!1),o=t[0],u=t[1],l=(0,$.useState)(!1),t=l[0],d=l[1];return(0,$.useEffect)(function(){i(!0),hn().then(function(e){a(null==e?void 0:e.contentAgeRestriction)}).catch(function(){return d(!0)}).finally(function(){return i(!1)})},[]),(0,$.useEffect)(function(){u(!0),gn(e).then(function(e){s(null===(e=null===(e=null===(e=null==(e=e)?void 0:e.ageRecommendationDetails)||void 0===e?void 0:e.summary)||void 0===e?void 0:e.ageRecommendation)||void 0===e?void 0:e.contentMaturity)}).catch(function(){return d(!0)}).finally(function(){return u(!1)})},[e]),{contentAgeRestriction:n,contentMaturityRating:c,isFetching:r||o,hasError:t}},Vn=function(e,i,l,c){return new(l=l||Promise)(function(n,t){function a(e){try{r(c.next(e))}catch(e){t(e)}}function o(e){try{r(c.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(a,o)}r((c=c.apply(e,i||[])).next())})},_n=function(n,a){var o,r,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,r&&(i=2&t[0]?r.return:t[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,t[1])).done)return i;switch(r=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,r=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=a.call(n,l)}catch(e){t=[6,e],r=0}finally{o=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Hn=rn.counterEvents,Wn=rn.unlockPlayIntentConstants,qn=function(e,c,t,n,a,o,r){var i=(0,$.useState)(!1),l=i[0],s=i[1],u=(0,$.useState)(!1),d=u[0],p=u[1],m=(0,$.useCallback)(function(){An(e,t,n,a,o,void 0,r)},[o,a,e,n,t,r]),v=(0,$.useCallback)(function(r,i,l){return Vn(void 0,void 0,void 0,function(){var t,n,a,o;return _n(this,function(e){switch(e.label){case 0:if(t=function(e){Bn(c,e,on.ContextualPlayabilityAgeRecommendationParentalControls)},l||void 0===r||void 0===i)return m(),(0,nn.fireEvent)(Hn.PlayButtonUpsellUnknownSettingOrAge),t(Wn.gameLaunchFallbackUpsellName),[2];if("minimal"===i)return m(),(0,nn.fireEvent)(Hn.PlayButtonUpsellMinimalMaturityRating),t(Wn.gameLaunchFallbackUpsellName),[2];if(!(n={mild:"NinePlus",moderate:"ThirteenPlus",restricted:"SeventeenPlus",unrated:"ThirteenPlus"}[i]))return m(),(0,nn.fireEvent)(Hn.PlayButtonUpsellAgeNotInMapping),t(Wn.gameLaunchFallbackUpsellName),[2];if(!(o=r.options.find(function(e){return(null===(e=null==e?void 0:e.option)||void 0===e?void 0:e.optionValue)===n})))return[3,12];switch(a=o.requirement){case"SelfUpdateSetting":return[3,1];case"ParentalConsent":return[3,2];case"ContentAgeRestrictionVerification":return[3,6]}return[3,10];case 1:return s(!0),(0,nn.fireEvent)(Hn.PlayButtonUpsellSelfUpdateSettingTriggered),t(a),[3,11];case 2:return e.trys.push([2,4,,5]),(0,nn.fireEvent)(Hn.PlayButtonUpsellAskYourParentTriggered),t(a),[4,B.AccessManagementUpsellV2Service.startAccessManagementUpsell({featureName:"CanChangeSetting",isAsyncCall:!1,usePrologue:!0,ampRecourseData:{contentAgeRestriction:null===(o=null==o?void 0:o.option)||void 0===o?void 0:o.optionValue}})];case 3:return e.sent(),[3,5];case 4:return e.sent(),m(),(0,nn.fireEvent)(Hn.PlayButtonUpsellParentalConsentError),t(Wn.gameLaunchFallbackUpsellName),[3,5];case 5:return[3,11];case 6:return e.trys.push([6,8,,9]),(0,nn.fireEvent)(Hn.PlayButtonUpsellAgeRestrictionVerificationTriggered),t(a),[4,kn()];case 7:return e.sent(),[3,9];case 8:return e.sent(),m(),(0,nn.fireEvent)(Hn.PlayButtonUpsellAgeRestrictionVerificationError),t(Wn.gameLaunchFallbackUpsellName),[3,9];case 9:return[3,11];case 10:m(),(0,nn.fireEvent)(Hn.PlayButtonUpsellUnknownRequirement),t(Wn.gameLaunchFallbackUpsellName),e.label=11;case 11:return[3,13];case 12:p(!0),(0,nn.fireEvent)(Hn.PlayButtonUpsellRestrictedUnplayableTriggered),t(Wn.restrictedUnplayableUpsellName),e.label=13;case 13:return[2]}})})},[m,c]),i=(0,$.useCallback)(function(){s(!1)},[]),u=(0,$.useCallback)(function(){p(!1)},[]);return{launchPlayButtonUpsell:v,isSelfUpdateSettingModalOpen:l,navigateToAccountSettings:(0,$.useCallback)(function(){var e=B.Endpoints.getAbsoluteUrl("/my/account#!/privacy");"undefined"!=typeof window&&(window.location.href=e,s(!1))},[]),closeSelfUpdateSettingModal:i,isRestrictedUnplayableModalOpen:d,closeRestrictedUnplayableModal:u}};(be=function(e){var t=e.universeId,n=e.hideButtonText,a=e.buttonClassName,o=e.placeId,r=e.rootPlaceId,i=e.privateServerLinkCode,l=e.gameInstanceId,c=e.eventProperties,s=e.appsFlyerReferralProperties,u=e.translate,d=Fn(t),p=d.contentAgeRestriction,m=d.contentMaturityRating,e=d.isFetching,v=d.hasError,t=qn(o,t,r,i,l,c,s),f=t.launchPlayButtonUpsell,r=t.isSelfUpdateSettingModalOpen,i=t.navigateToAccountSettings,l=t.closeSelfUpdateSettingModal,c=t.isRestrictedUnplayableModalOpen,s=t.closeRestrictedUnplayableModal,t=(0,$.useCallback)(function(e){e.preventDefault(),e.stopPropagation(),f(p,m,v)},[f,p,m,v]);return!v&&e?ee().createElement(tn.Loading,null):ee().createElement(ee().Fragment,null,ee().createElement(Nn,{onButtonClick:t,hideButtonText:n,buttonClassName:a}),r&&ee().createElement(Gn,{isModalOpen:r,navigateToAccountSettings:i,closeModal:l,translate:u}),c&&ee().createElement(Mn,{isModalOpen:c,closeModal:s,translate:u}))}).defaultProps={hideButtonText:void 0,buttonClassName:void 0,rootPlaceId:void 0,privateServerLinkCode:void 0,gameInstanceId:void 0,eventProperties:{},appsFlyerReferralProperties:{}};var zn=(0,ae.withTranslations)(be,e);function Jn(e){var a=e.universeId,o=e.placeId,r=e.productDetails,t=e.translate,n=e.iconClassName,i=e.buttonWidth,l=e.buttonClassName,c=e.hideButtonText,s=e.redirectPurchaseUrl,u=void 0!==(d=e.showDefaultPurchaseText)&&d,d=(e=(0,$.useState)(!1))[0],p=e[1],e=(0,$.useCallback)(function(n){return Kn(void 0,void 0,void 0,function(){var t;return Zn(this,function(e){switch(e.label){case 0:if(n.preventDefault(),n.stopPropagation(),t=null===(t=null==r?void 0:r.fiatPurchaseData)||void 0===t?void 0:t.basePriceId,!o||!t)return[2];p(!0),e.label=1;case 1:return e.trys.push([1,3,4,5]),Bn(a,ea.fiatPurchaseUpsellName,on.FiatPurchaseRequired),[4,yn(o,t)];case 2:return(t=e.sent())&&m.urlService.isValidStripeCheckoutUrl(t)&&(window.location.href=t),[3,5];case 3:return e.sent(),(0,nn.fireEvent)($n.PreparePurchaseUrlError),console.error("Error preparing purchase url"),[3,5];case 4:return p(!1),[7];case 5:return[2]}})})},[o,r,a]);return ee().createElement(Yn,{buttonWidth:i,buttonClassName:l,iconClassName:n,hideButtonText:c,hideButtonIcon:!0,buttonContent:u?t(ta.Buy):null!==(t=null===(t=null==(t=r)?void 0:t.fiatPurchaseData)||void 0===t?void 0:t.localizedFiatPrice)&&void 0!==t?t:"",onClick:s?void 0:e,redirectUrl:s,isPurchasing:d})}function Xn(e){var t=e.universeId,n=e.iconClassName,a=e.buttonWidth,o=e.buttonClassName,r=e.hideButtonText,i=e.redirectPurchaseUrl,l=e.productDetails,c=e.productInfo,s=e.translate,u=e.refetchPlayabilityStatus,e=(0,$.useCallback)(function(e){e.preventDefault(),e.stopPropagation(),ra.start()},[]);return ee().createElement(ee().Fragment,null,ee().createElement(Yn,{buttonWidth:a,buttonClassName:o,iconClassName:n,hideButtonText:r,buttonContent:null!==(r=null===(r=null==(r=c)?void 0:r.price)||void 0===r?void 0:r.toString())&&void 0!==r?r:"",onClick:i?void 0:e,redirectUrl:i}),ee().createElement(oa,aa({},{translate:s,productId:c.productId,expectedPrice:c.price,thumbnail:ee().createElement(na.Thumbnail2d,{type:na.ThumbnailTypes.gameIcon,size:na.DefaultThumbnailSize,targetId:parseInt(t,10),imgClassName:"game-card-thumb",format:na.ThumbnailFormat.jpeg}),assetName:l.name,assetType:"Place",sellerName:l.builder,expectedCurrency:1,expectedSellerId:c.sellerId,onPurchaseSuccess:u,isPlace:!0})))}(be=function(e){var t=e.buttonWidth,n=e.buttonClassName,a=e.iconClassName,o=e.hideButtonText,r=e.hideButtonIcon,i=e.buttonContent,l=e.onClick,c=e.isPurchasing,e=e.redirectUrl;return e?ee().createElement(tn.Link,{url:e,className:"purchase-button-link"},ee().createElement(tn.Button,{"data-testid":"play-purchase-button",width:t,className:n,onClick:function(){return null},isDisabled:c},!r&&ee().createElement("span",{className:a}),!o&&ee().createElement("span",{className:"btn-text"},i))):ee().createElement(tn.Button,{"data-testid":"play-purchase-button",width:t,className:n,onClick:function(e){l&&!c&&l(e)},isDisabled:c},!r&&ee().createElement("span",{className:a}),!o&&ee().createElement("span",{className:"btn-text"},i))}).defaultProps={hideButtonText:!1,buttonWidth:tn.Button.widths.full,buttonClassName:"btn-economy-robux-white-lg",iconClassName:"icon-robux-white",hideButtonIcon:!1,isPurchasing:!1,onClick:void 0,redirectUrl:void 0};var Qn,Yn=be,Kn=function(e,i,l,c){return new(l=l||Promise)(function(n,t){function a(e){try{r(c.next(e))}catch(e){t(e)}}function o(e){try{r(c.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(a,o)}r((c=c.apply(e,i||[])).next())})},Zn=function(n,a){var o,r,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,r&&(i=2&t[0]?r.return:t[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,t[1])).done)return i;switch(r=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,r=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=a.call(n,l)}catch(e){t=[6,e],r=0}finally{o=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},$n=rn.counterEvents,ea=rn.unlockPlayIntentConstants,ta=rn.playButtonTextTranslationMap,be=RobloxItemPurchase,na=RobloxThumbnails,aa=function(){return(aa=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},oa=(be=(0,be.createItemPurchase)())[0],ra=be[1],ia=function(e,i,l,c){return new(l=l||Promise)(function(n,t){function a(e){try{r(c.next(e))}catch(e){t(e)}}function o(e){try{r(c.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(a,o)}r((c=c.apply(e,i||[])).next())})},la=function(n,a){var o,r,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,r&&(i=2&t[0]?r.return:t[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,t[1])).done)return i;switch(r=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,r=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=a.call(n,l)}catch(e){t=[6,e],r=0}finally{o=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};(be=Qn=Qn||{}).Robux="Robux",be.Fiat="Fiat";var ca=(0,ae.withTranslations)(function(e){var t=e.translate,n=e.universeId,a=e.placeId,o=e.iconClassName,r=void 0===o?"icon-robux-white":o,i=e.buttonWidth,l=void 0===i?tn.Button.widths.full:i,c=e.buttonClassName,s=void 0===c?"btn-economy-robux-white-lg":c,u=e.refetchPlayabilityStatus,d=e.hideButtonText,p=void 0!==d&&d,m=e.redirectPurchaseUrl,o=e.playabilityStatus,i=e.showDefaultPurchaseText,c=void 0!==i&&i,d=(0,$.useState)(void 0),e=d[0],v=d[1],i=(0,$.useState)(void 0),d=i[0],f=i[1];return(0,$.useEffect)(function(){ia(void 0,void 0,void 0,function(){var t;return la(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,dn([n])];case 1:return t=e.sent(),v(t),[3,3];case 2:return t=e.sent(),console.log(t),[3,3];case 3:return[2]}})}),ia(void 0,void 0,void 0,function(){var t;return la(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,pn([a])];case 1:return t=e.sent(),f(t),[3,3];case 2:return t=e.sent(),console.log(t),[3,3];case 3:return[2]}})})},[a,n]),void 0===e||void 0===d?ee().createElement(tn.Loading,null):(i=d,(o===on.FiatPurchaseRequired&&null!=i&&i.fiatPurchaseData?Qn.Fiat:Qn.Robux)===Qn.Fiat?ee().createElement(Jn,{universeId:n,placeId:a,iconClassName:r,buttonWidth:l,buttonClassName:s,hideButtonText:p,redirectPurchaseUrl:m,productDetails:d,translate:t,showDefaultPurchaseText:c}):ee().createElement(Xn,{universeId:n,iconClassName:r,buttonWidth:l,buttonClassName:s,hideButtonText:p,redirectPurchaseUrl:m,productDetails:d,productInfo:e,translate:t,refetchPlayabilityStatus:u}))},e),sa=function(e,i,l,c){return new(l=l||Promise)(function(n,t){function a(e){try{r(c.next(e))}catch(e){t(e)}}function o(e){try{r(c.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(a,o)}r((c=c.apply(e,i||[])).next())})},ua=function(n,a){var o,r,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,r&&(i=2&t[0]?r.return:t[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,t[1])).done)return i;switch(r=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,r=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=a.call(n,l)}catch(e){t=[6,e],r=0}finally{o=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},da=rn.unlockPlayIntentConstants;function pa(e){var l=e.universeId,c=e.placeId,s=e.rootPlaceId,u=e.privateServerLinkCode,d=e.gameInstanceId,p=e.status,m=void 0===(i=e.eventProperties)?{}:i,v=void 0===(a=e.appsFlyerReferralProperties)?{}:a,t=void 0===(r=e.iconClassName)?"icon-common-play":r,n=void 0===(o=e.buttonWidth)?tn.Button.widths.full:o,a=void 0===(i=e.buttonClassName)?"btn-common-play-game-lg":i,o=void 0!==(r=e.disableLoadingState)&&r,r=void 0===(i=e.buttonText)?void 0:i,i=void 0!==(i=e.hideIcon)&&i,f=void 0===(e=e.analyticsCallback)?void 0:e,h=(e=(0,$.useState)(void 0))[0],g=e[1],y=(e=(0,$.useState)(void 0))[0],b=e[1],w=(e=(0,$.useState)(void 0))[0],P=e[1],E=(e=(0,$.useState)(void 0))[0],I=e[1],C=(e=(0,$.useState)(void 0))[0],S=e[1],x=(e=(0,$.useState)(void 0))[0],A=e[1],T=(e=(0,$.useState)(void 0))[0],U=e[1],L=(e=(0,$.useState)(void 0))[0],k=e[1],O=(e=(0,$.useState)(!1))[0],D=e[1];return(0,$.useEffect)(function(){try{ha(void 0,void 0,Promise,function(){var t;return ga(this,function(e){switch(e.label){case 0:return[4,null===B.NavigationService||void 0===B.NavigationService?void 0:B.NavigationService.getIsVNGLandingRedirectEnabled()];case 1:return t=e.sent(),D(t),[2]}})})}catch(e){D(!1)}},[]),(0,$.useEffect)(function(){ha(void 0,void 0,void 0,function(){var t,n;return ga(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,(y=l,ha(void 0,void 0,Promise,function(){var t,n,a,o,r,i,l,c,s,u,d,p,m,v,f,h,g;return ga(this,function(e){switch(e.label){case 0:return t={isUniverseEnabledForVoice:!1,isUniverseEnabledForAvatarVideo:!1},Re.authenticatedUser.isAuthenticated?[4,fn()]:[2,{elegibleToSeeVoiceUpsell:!1,universePlaceVoiceEnabledSettings:t,showAgeVerificationOverlay:!1,showVoiceOptInOverlay:!1,showAvatarVideoOptInOverlay:!1,requireExplicitVoiceConsent:!0,useCameraU13Design:!1,useVoiceUpsellV2Design:!1}];case 1:return c=e.sent(),n=c.playButtonOverlayWebFlag,a=c.voiceOptInWebFlag,o=c.cameraOptInWebFlag,r=c.cameraOptInWebFlagU13,i=c.requireExplicitVoiceConsent,l=c.useCameraU13Design,c=c.useVoiceUpsellV2Design,n||a||o?[4,vn(y)]:[2,{elegibleToSeeVoiceUpsell:!1,universePlaceVoiceEnabledSettings:t,showAgeVerificationOverlay:!1,showVoiceOptInOverlay:!1,showAvatarVideoOptInOverlay:!1,requireExplicitVoiceConsent:i,useCameraU13Design:l,useVoiceUpsellV2Design:c}];case 2:return(f=e.sent(),s=f.showAgeVerificationOverlay,u=f.showVoiceOptInOverlay,d=f.showAvatarVideoOptInOverlay,p=f.elegibleToSeeVoiceUpsell,m=f.universePlaceVoiceEnabledSettings,f=v=!1,B.ExperimentationService.getAllValuesForLayer)?(h=Boolean,[4,B.ExperimentationService.getAllValuesForLayer(wa)]):[3,5];case 3:return v=h.apply(void 0,[e.sent().ShouldShowUpsell]),g=Boolean,[4,B.ExperimentationService.getAllValuesForLayer(Pa)];case 4:f=g.apply(void 0,[e.sent().ShouldShowUpsell]),e.label=5;case 5:return[2,{elegibleToSeeVoiceUpsell:p,universePlaceVoiceEnabledSettings:m,showAgeVerificationOverlay:n&&s,showVoiceOptInOverlay:a&&u,showAvatarVideoOptInOverlay:d&&(o&&v||r&&f),requireExplicitVoiceConsent:i,useCameraU13Design:l,useVoiceUpsellV2Design:c}]}})}))];case 1:return t=e.sent(),g(null!==(n=null===(n=t.universePlaceVoiceEnabledSettings)||void 0===n?void 0:n.isUniverseEnabledForVoice)&&void 0!==n&&n),P(t.elegibleToSeeVoiceUpsell),b(t.showAgeVerificationOverlay),I(t.showVoiceOptInOverlay),S(t.showAvatarVideoOptInOverlay),A(t.requireExplicitVoiceConsent),U(t.useCameraU13Design),k(t.useVoiceUpsellV2Design),[3,3];case 2:return e.sent(),(0,nn.fireEvent)(ba.PlayButtonShowIdentificationError),P(!1),g(!1),b(!1),I(!1),S(!1),A(!0),U(!1),k(!1),[3,3];case 3:return[2]}var y})})},[]),void 0!==y||o?ee().createElement(ee().Fragment,null,ee().createElement(tn.Button,{"data-testid":"play-button",width:n,className:a,onClick:function(i){return ha(void 0,void 0,void 0,function(){var o,r;return ga(this,function(e){switch(e.label){case 0:return(i.preventDefault(),i.stopPropagation(),p!==ya.Playable)?[3,7]:(w&&h&&(o="SocialVoice.VoiceUpsell",B.ExperimentationService.getAllValuesForLayer(o).then(function(){B.ExperimentationService.logLayerExposure(o)}).catch(function(){return console.error("error logging exposure event in play-join")})),y?[4,Un()]:[3,2]);case 1:return r=e.sent(),r[0],r[1]&&b(!1),[3,6];case 2:return E?[4,Ln(null==x||x,null!=L&&L)]:[3,4];case 3:return e.sent()&&I(!1),[3,6];case 4:return C?[4,(n=null==x||x,a=null==T||T,wn(void 0,void 0,Promise,function(){return Pn(this,function(e){try{return[2,B.IdentityVerificationService.showAvatarVideoOptInOverlay(n,a)]}catch(e){return[2,!1]}return[2]})}))]:[3,6];case 5:e.sent()&&S(!1),e.label=6;case 6:return On(c,l),r={launchData:null!==(t=new URLSearchParams(window.location.search).get("launchData"))&&void 0!==t?t:void 0,eventId:null!==(t=new URLSearchParams(window.location.search).get("eventId"))&&void 0!==t?t:void 0},An(c,s,u,d,m,r,v),[3,8];case 7:p===ya.GuestProhibited&&(O?null!==B.NavigationService&&void 0!==B.NavigationService&&B.NavigationService.navigateToLoginWithRedirect():Tn(c,v)),e.label=8;case 8:return f&&f(),[2]}var t,n,a})})}},!i&&ee().createElement("span",{className:t}),r&&ee().createElement("span",{className:"play-button-text"},r)),ee().createElement("div",{id:"id-verification-container"})):ee().createElement(tn.Loading,null)}(be=function(e){var n=e.universeId,t=e.hideButtonText,a=e.buttonClassName,e=(0,$.useCallback)(function(t){return sa(void 0,void 0,void 0,function(){return ua(this,function(e){switch(e.label){case 0:return t.preventDefault(),t.stopPropagation(),Bn(n,da.unverifiedSeventeenPlusUpsellName,on.ContextualPlayabilityUnverifiedSeventeenPlusUser),[4,kn()];case 1:return e.sent(),[2]}})})},[n]);return ee().createElement(Nn,{onButtonClick:e,hideButtonText:t,buttonClassName:a})}).defaultProps={hideButtonText:void 0,buttonClassName:void 0};var ma=be,va=rn.playButtonTextTranslationMap,fa=(0,ae.withTranslations)(function(e){var t=e.translate,n=e.iconClassName,a=void 0===n?"icon-status-unavailable-secondary":n,o=e.buttonWidth,n=void 0===o?tn.Button.widths.full:o,o=e.buttonClassName,o=void 0===o?"btn-common-play-game-unplayable-lg":o,e=e.hideButtonText,e=void 0!==e&&e;return ee().createElement(ee().Fragment,null,ee().createElement(tn.Button,{"data-testid":"play-unplayable-button",width:n,className:o,isDisabled:!0,onClick:function(){return null}},ee().createElement("span",{className:a}),!e&&ee().createElement("span",{className:"btn-text"},t(va.Unplayable))))},e),ha=function(e,i,l,c){return new(l=l||Promise)(function(n,t){function a(e){try{r(c.next(e))}catch(e){t(e)}}function o(e){try{r(c.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(a,o)}r((c=c.apply(e,i||[])).next())})},ga=function(n,a){var o,r,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,r&&(i=2&t[0]?r.return:t[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,t[1])).done)return i;switch(r=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,r=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=a.call(n,l)}catch(e){t=[6,e],r=0}finally{o=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},ya=rn.PlayabilityStatus,ba=rn.counterEvents,wa=rn.avatarChatUpsellLayer,Pa=rn.avatarChatUpsellLayerU13,Ea=rn.playButtonErrorStatusTranslationMap,Ia=rn.PlayabilityStatus,Ca=(0,ae.withTranslations)(function(e){var t=e.translate,n=e.playabilityStatus,a=e.unplayableDisplayText,e=e.errorClassName,e=void 0===e?"error-message":e;return ee().createElement("span",{"data-testid":"play-error",className:e},a||t(Ea[n]||Ea[Ia.UnplayableOtherReason]))},e),Sa=rn.PlayabilityStatus,be=(0,ae.withTranslations)(function(e){var t=e.translate,n=e.playabilityStatus,a=e.shouldShowVpcPlayButtonUpsells,o=e.unplayableDisplayText,r=e.shouldShowNoticeAgreementIfPlayable,e=e.contextualMessageClassName,e=void 0===e?"contextual-message":e;return Dn(n,a)?ee().createElement(Ca,{playabilityStatus:n,unplayableDisplayText:o,errorClassName:e}):n===Sa.Playable&&r?ee().createElement("span",{"data-testid":"play-contextual-message",className:e},t(rn.FeatureExperienceDetails.PlayButtonMessageAgreeToNotice)):ee().createElement(ee().Fragment,null)},e),xa=function(e,i,l,c){return new(l=l||Promise)(function(n,t){function a(e){try{r(c.next(e))}catch(e){t(e)}}function o(e){try{r(c.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(a,o)}r((c=c.apply(e,i||[])).next())})},Aa=function(n,a){var o,r,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,r&&(i=2&t[0]?r.return:t[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,t[1])).done)return i;switch(r=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,r=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=a.call(n,l)}catch(e){t=[6,e],r=0}finally{o=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},be={usePlayabilityStatus:e=function(n){function t(){return xa(void 0,void 0,void 0,function(){var t;return Aa(this,function(e){switch(e.label){case 0:o(void 0),i(void 0),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,mn([n])];case 2:return t=e.sent(),o(null==t?void 0:t.playabilityStatus),i(null==t?void 0:t.unplayableDisplayText),[3,4];case 3:return e.sent(),o(on.TemporarilyUnavailable),i(void 0),[3,4];case 4:return[2]}})})}var e=(0,$.useState)(void 0),a=e[0],o=e[1],r=(0,$.useState)(void 0),e=r[0],i=r[1];return(0,$.useEffect)(function(){t();function e(e){e.persisted&&t()}return window.addEventListener("pageshow",e),function(){window.removeEventListener("pageshow",e)}},[]),[a,t,e]},PlayabilityStatuses:on,launchGame:An,launchLogin:Tn,shouldShowUnplayableButton:Dn,DefaultPlayButton:function(e){var t=e.placeId,n=e.rootPlaceId,a=e.universeId,o=e.privateServerLinkCode,r=e.gameInstanceId,i=e.refetchPlayabilityStatus,l=e.playabilityStatus,c=e.hideButtonText,s=e.eventProperties,u=void 0===s?{}:s,s=e.appsFlyerReferralProperties,d=void 0===s?{}:s,p=e.disableLoadingState,m=e.buttonClassName,v=e.redirectPurchaseUrl,f=e.showDefaultPurchaseText,h=e.shouldShowVpcPlayButtonUpsells;switch(l){case void 0:return p?ee().createElement(pa,{universeId:a,placeId:t,rootPlaceId:n,privateServerLinkCode:o,gameInstanceId:r,status:ya.Playable,eventProperties:u,appsFlyerReferralProperties:d,disableLoadingState:p,buttonClassName:m}):ee().createElement(tn.Loading,null);case ya.Playable:case ya.GuestProhibited:return ee().createElement(pa,{universeId:a,placeId:t,rootPlaceId:n,privateServerLinkCode:o,gameInstanceId:r,status:l,eventProperties:u,appsFlyerReferralProperties:d,disableLoadingState:p,buttonClassName:m});case ya.ContextualPlayabilityUnverifiedSeventeenPlusUser:return(0,nn.fireEvent)(ba.ActionNeeded),ee().createElement(ma,{universeId:a,hideButtonText:c,buttonClassName:m});case ya.PurchaseRequired:case ya.FiatPurchaseRequired:return ee().createElement(ca,{refetchPlayabilityStatus:i,universeId:a,placeId:t,hideButtonText:c,buttonClassName:m,redirectPurchaseUrl:v,playabilityStatus:l,showDefaultPurchaseText:f});case ya.ContextualPlayabilityAgeRecommendationParentalControls:return h?((0,nn.fireEvent)(ba.ActionNeeded),ee().createElement(zn,{universeId:a,hideButtonText:c,buttonClassName:m,placeId:t,rootPlaceId:n,privateServerLinkCode:o,gameInstanceId:r,eventProperties:u,appsFlyerReferralProperties:d})):((0,nn.fireEvent)(ba.Unplayable),ee().createElement(fa,{hideButtonText:c,buttonClassName:m}));default:return(0,nn.fireEvent)(ba.Unplayable),ee().createElement(fa,{hideButtonText:c,buttonClassName:m})}},PlayButton:pa,PurchaseButton:ca,Error:Ca,ContextualMessage:be};window.Roblox||(window.Roblox={}),Object.assign(window.Roblox,{AuthenticationChecker:c,GameLauncher:M,GameLaunchLogger:K,GamePlayEvents:_,PrerollPlayer:A,ProtocolHandlerClientInterface:te,VideoPreRollDFP:x,PlayButton:be}),l()(document).ready(function(){Z();var e=(0,B.DeviceMeta)();(e.isUWPApp||e.isUniversalApp)&&(e=l()("#PlaceLauncherStatusPanel"),r.isJoinAttemptIdEnabled="True"===(null!==(e=e.data("is-join-attempt-id-enabled"))&&void 0!==e?e:"False"),window.Roblox.AppHybridClientInterface=r,M.setGameLaunchInterface(r)),M.setGameLaunchLogger(K)})}()}();
//# sourceMappingURL=https://sourcemaps.rbxcdn.com/080b1a2d604c2b28597339f1fe96b17e-gameLaunch.bundle.min.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("GameLaunch");